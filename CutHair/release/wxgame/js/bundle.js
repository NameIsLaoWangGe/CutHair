!function(){"use strict";var e;!function(e){let t,a,n,i,s,o,l,r,c,h,d,g,u,p,y,m,f,S,k,L;!function(t){function btnPauseUp(t){t.stopPropagation(),t.currentTarget.scale(1,1),e.Admin._openScene("UIPause",null,null,null)}function btnHintUp(e){e.currentTarget.scale(1,1),e.stopPropagation(),s._openScene(s.SceneName.UISmallHint,null,null,e=>{})}function btnAgainUp(e){e.stopPropagation(),e.currentTarget.scale(1,1),t.refreshNum++,s._refreshScene()}t._createKeyNum=function(e,a,n){let i;Laya.loader.load("prefab/KeyNum.json",Laya.Handler.create(this,function(s){let o=new Laya.Prefab;o.json=s,i=Laya.Pool.getItemByCreateFun("prefab",o.create,o),e.addChild(i),i.pos(a,n),i.zOrder=0,i.getChildByName("Num"),t.KeyNumNode=i}))},t._createExecutionNum=function(e){let a;Laya.loader.load("prefab/ExecutionNum.json",Laya.Handler.create(this,function(n){let i=new Laya.Prefab;i.json=n,a=Laya.Pool.getItemByCreateFun("prefab",i.create,i),e.addChild(a),a.getChildByName("Num"),a.pos(297,90),a.zOrder=50,t.ExecutionNumNode=a,t.ExecutionNumNode.name="ExecutionNumNode"}))},t._addExecution=function(e){},t._createBtnPause=function(e){let a;Laya.loader.load("prefab/BtnPause.json",Laya.Handler.create(this,function(n){let i=new Laya.Prefab;i.json=n,a=Laya.Pool.getItemByCreateFun("prefab",i.create,i),e.addChild(a),a.pos(645,167),a.zOrder=0,t.BtnPauseNode=a,t.BtnPauseNode.name="BtnPauseNode",r.on(r.Type.largen,a,null,null,null,btnPauseUp,null)}))},t.btnPauseUp=btnPauseUp,t._createBtnHint=function(e){let a;Laya.loader.load("prefab/BtnHint.json",Laya.Handler.create(this,function(n){let i=new Laya.Prefab;i.json=n,a=Laya.Pool.getItemByCreateFun("prefab",i.create,i),e.addChild(a),a.pos(645,293),a.zOrder=0,t.BtnHintNode=a,t.BtnHintNode.name="BtnHintNode",r.on(r.Type.largen,a,null,null,null,btnHintUp,null)}))},t.btnHintUp=btnHintUp,t._createBtnAgain=function(e){let a;Laya.loader.load("prefab/BtnAgain.json",Laya.Handler.create(this,function(n){let i=new Laya.Prefab;i.json=n,a=Laya.Pool.getItemByCreateFun("prefab",i.create,i),e.addChild(a),a.pos(645,409),a.zOrder=0,r.on(r.Type.largen,a,null,btnAgainUp,null,null,null),t.BtnAgainNode=a}))},t.btnAgainUp=btnAgainUp,t._createP201_01=function(e){let a;Laya.loader.load("prefab/P201.json",Laya.Handler.create(this,function(n){let i=new Laya.Prefab;i.json=n,a=Laya.Pool.getItemByCreateFun("P201",i.create,i),e.addChild(a),a.pos(80,290),a.zOrder=65,t.P201_01Node=a}))},t._createStimulateDec=function(e){let a;Laya.loader.load("prefab/StimulateDec.json",Laya.Handler.create(this,function(n){let i=new Laya.Prefab;i.json=n,(a=Laya.Pool.getItemByCreateFun("StimulateDec",i.create,i)).getChildByName("Dec"),e.addChild(a),a.pos(35,150),a.zOrder=65,t.StimulateDecNode=a}))},t._createHint_InPut=function(e){let t;Laya.loader.load("prefab/HintPre_01.json",Laya.Handler.create(this,function(a){let n=new Laya.Prefab;n.json=a,t=Laya.Pool.getItemByCreateFun("prefab",n.create,n),Laya.stage.addChild(t),t.pos(Laya.stage.width/2,Laya.stage.height/2);let i=t.getChildByName("dec");i.text=e,t.zOrder=100,i.alpha=0,h.scale_Alpha(t,0,1,0,1,1,1,200,null,0,e=>{h.fadeOut(i,0,1,150,0,e=>{h.fadeOut(i,1,0,200,1500,e=>{h.scale_Alpha(t,1,1,1,1,0,0,200,null,0,e=>{t.removeSelf()})})})})}))},t.createConsumeEx=function(a){let n=Laya.Pool.getItemByClass("label",Laya.Label);n.name="label",Laya.stage.addChild(n),n.text="-2",n.fontSize=40,n.bold=!0,n.color="#59245c",n.x=t.ExecutionNumNode.x+100,n.y=t.ExecutionNumNode.y-n.height/2+4,n.zOrder=100,e.Animation2D.fadeOut(n,0,1,200,150,a=>{e.Animation2D.leftRight_Shake(t.ExecutionNumNode,15,60,0,null),e.Animation2D.fadeOut(n,1,0,600,400,e=>{})})},t._createGold=function(e,t,a,n){let i;Laya.loader.load("prefab/GolPre.json",Laya.Handler.create(this,function(e){let s=new Laya.Prefab;s.json=e,i=Laya.Pool.getItemByCreateFun("prefab",s.create,s),t.addChild(i),i.pos(a,n)}))},t._createAddExecution=function(a,n,i){let s;Laya.loader.load("prefab/execution.json",Laya.Handler.create(this,function(a){let n=new Laya.Prefab;n.json=a,s=Laya.Pool.getItemByCreateFun("prefab",n.create,n),Laya.stage.addChild(s),s.x=Laya.stage.width/2,s.y=Laya.stage.height/2,s.zOrder=50,t.ExecutionNumNode&&h.move_Simple_01(s,s.x,s.y,t.ExecutionNumNode.x,t.ExecutionNumNode.y,800,null,100,a=>{h.fadeOut(s,1,0,200,0,a=>{e.Animation2D.upDwon_Shake(t.ExecutionNumNode,10,80,0,null),i&&i()})})}))}}(t=e.Global||(e.Global={})),function(e){let t;!function(e){e.taskReach="taskReach",e.defeated="defeated",e.scene3DRefresh="Scene3DRefresh",e.scene3DResurgence="scene3DResurgence",e.operationRefresh="operationRefresh",e.resurgence="resurgence",e.closeOperation="closeOperation"}(t=e.EventType||(e.EventType={})),e.dispatcher=new Laya.EventDispatcher,e.reg=function(t,a,n){a||console.error("事件的执行域必须存在!"),e.dispatcher.on(t.toString(),a,n)},e.regOnce=function(t,a,n){a||console.error("事件的执行域必须存在!"),e.dispatcher.once(t.toString(),a,n)},e.notify=function(t,a){e.dispatcher.event(t.toString(),a)},e.off=function(e,t,a){this.dispatcher.off(e.toString(),t,a)},e.offAll=function(t){e.dispatcher.offAll(t.toString())},e.offCaller=function(t){e.dispatcher.offAllCaller(t)}}(a=e.EventAdmin||(e.EventAdmin={})),function(e){let t,a,n,i,s;function getDialogContent_Random(e){let t=[],a=getUseWhere(e),n=Math.floor(Math.random()*a.length);for(const e in a[n])if(a[n].hasOwnProperty(e)){const i=a[n][e];"content"==e.substring(0,7)&&"-1"!==i&&t.push(i)}return t}function getUseWhere(t){let a=[];for(let n=0;n<e._dialogContent.Array.length;n++){const i=e._dialogContent.Array[n];i.useWhere==t&&a.push(i)}return a}!function(e){e[e["金币不够了！"]=0]="金币不够了！",e[e["没有可以购买的皮肤了！"]=1]="没有可以购买的皮肤了！",e[e["暂时没有广告，过会儿再试试吧！"]=2]="暂时没有广告，过会儿再试试吧！",e[e["暂无皮肤!"]=3]="暂无皮肤!",e[e["暂无分享!"]=4]="暂无分享!",e[e["暂无提示机会!"]=5]="暂无提示机会!",e[e["观看完整广告才能获取奖励哦！"]=6]="观看完整广告才能获取奖励哦！",e[e["通关上一关才能解锁本关！"]=7]="通关上一关才能解锁本关！",e[e["分享成功后才能获取奖励！"]=8]="分享成功后才能获取奖励！",e[e["分享成功!"]=9]="分享成功!",e[e["暂无视频，玩一局游戏之后分享！"]=10]="暂无视频，玩一局游戏之后分享！",e[e["消耗2点体力！"]=11]="消耗2点体力！",e[e["今日体力福利已领取！"]=12]="今日体力福利已领取！",e[e["分享成功，获得125金币！"]=13]="分享成功，获得125金币！",e[e["限定皮肤已经获得，请前往皮肤界面查看。"]=14]="限定皮肤已经获得，请前往皮肤界面查看。",e[e["分享失败！"]=15]="分享失败！",e[e["兑换码错误！"]=16]="兑换码错误！",e[e["尚未获得该商品!"]=17]="尚未获得该商品!",e[e["恭喜获得新皮肤!"]=18]="恭喜获得新皮肤!",e[e["请前往皮肤限定界面获取!"]=19]="请前往皮肤限定界面获取!",e[e["通过相应的关卡数达到就可以得到了!"]=20]="通过相应的关卡数达到就可以得到了!",e[e["点击金币抽奖按钮购买!"]=21]="点击金币抽奖按钮购买!",e[e["没有领取次数了！"]=22]="没有领取次数了！",e[e["增加三次开启宝箱次数！"]=23]="增加三次开启宝箱次数！",e[e["观看广告可以获得三次开宝箱次数！"]=24]="观看广告可以获得三次开宝箱次数！",e[e["没有宝箱领可以领了！"]=25]="没有宝箱领可以领了！",e[e["请前往皮肤界面购买！"]=26]="请前往皮肤界面购买！"}(t=e.HintContent||(e.HintContent={})),function(e){e.blackBord="Frame/UI/ui_orthogon_black.png"}(a||(a={})),e.createHint_Middle=function(e){let n=Laya.Pool.getItemByClass("Hint_M",Laya.Sprite);n.name="Hint_M",Laya.stage.addChild(n),n.width=Laya.stage.width,n.height=100,n.pivotY=n.height/2,n.pivotX=Laya.stage.width/2,n.x=Laya.stage.width/2,n.y=Laya.stage.height/2,n.zOrder=100;let i=new Laya.Image;n.addChild(i),i.skin=a.blackBord,i.width=Laya.stage.width,i.pivotX=Laya.stage.width/2,i.height=100,i.pivotY=i.height/2,i.y=n.height/2,i.x=Laya.stage.width/2,i.alpha=.6;let s=new Laya.Label;n.addChild(s),s.width=Laya.stage.width,s.text=t[e],s.pivotX=Laya.stage.width/2,s.x=Laya.stage.width/2,s.height=100,s.pivotY=50,s.y=n.height/2,s.bold=!0,s.fontSize=35,s.color="#ffffff",s.align="center",s.valign="middle",s.alpha=0,h.scale_Alpha(n,0,1,0,1,1,1,200,null,0,e=>{h.fadeOut(s,0,1,150,0,e=>{h.fadeOut(s,1,0,200,800,e=>{h.scale_Alpha(n,1,1,1,1,0,0,200,null,0,e=>{n.removeSelf()})})})})},e._dialogContent={get Array(){return null!==Laya.loader.getRes("GameData/Dialog/Dialog.json").RECORDS?Laya.loader.getRes("GameData/Dialog/Dialog.json").RECORDS:[]}},e.getDialogContent=function(t,a){let n;for(let i=0;i<e._dialogContent.Array.length;i++){const s=e._dialogContent.Array[i];if(s.useWhere==t&&s.name==a){n=s;break}}let i=[];for(const e in n)if(n.hasOwnProperty(e)){const t=n[e];"content"!=e.substring(0,7)&&-1===t||i.push(t)}return i},e.getDialogContent_Random=getDialogContent_Random,e.getUseWhere=getUseWhere,function(e){e.scene1="scene1",e.scene2="scene2",e.scene3="scene3"}(n=e.UseWhere||(e.UseWhere={})),function(e){e.name="name",e.useWhere="useWhere",e.content="content",e.max="max"}(i=e.DialogProperty||(e.DialogProperty={})),function(e){e.voluntarily="voluntarily",e.manual="manual",e.clickContent="clickContent"}(s=e.PlayMode||(e.PlayMode={})),e.createVoluntarilyDialogue=function(t,a,n,i,s,o,l){null==i&&(i=0),Laya.timer.once(i,this,()=>{let i;Laya.loader.load("prefab/Pre_Dialogue.json",Laya.Handler.create(this,function(r){let c=new Laya.Prefab;c.json=r,i=Laya.Pool.getItemByCreateFun("Pre_Dialogue",c.create,c),o?o.addChild(i):Laya.stage.addChild(i),i.x=t,i.y=a;let d,g=i.getChildByName("Content");void 0!==l?g.text=l[0]:(d=getDialogContent_Random(n),g.text=d[0]),i.zOrder=100,null==s&&(s=1e3),h.scale_Alpha(i,0,0,0,1,1,1,150,null,1e3,()=>{for(let e=0;e<d.length;e++)Laya.timer.once(e*s,this,()=>{g.text=d[e],e==d.length-1&&Laya.timer.once(s,this,()=>{h.scale_Alpha(i,1,1,1,0,0,0,150,null,1e3,()=>{i.removeSelf()})})})}),e.DialogueNode=i}))})}}(n=e.Dialog||(e.Dialog={})),function(t){let a;function createOneGold(e,t,n){let i=Laya.Pool.getItemByClass("addGold",Laya.Image);return i.name="addGold",i.alpha=1,i.zOrder=60,i.width=e,i.height=t,i.pivotX=e/2,i.pivotY=t/2,i.skin=n||a[0],i}t._goldNum=0,t.createGoldNode=function(e){if(t.GoldNode)return;let a;Laya.loader.load("Prefab/GoldNode.json",Laya.Handler.create(this,function(n){let i=new Laya.Prefab;i.json=n;let s=(a=Laya.Pool.getItemByCreateFun("gold",i.create,i)).getChildByName("Num"),o=Laya.LocalStorage.getItem("_goldNum");o?t._goldNum=Number(o):Laya.LocalStorage.setItem("_goldNum","0"),s.text=t._goldNum.toString(),e.addChild(a),a.getChildByName("Pic"),a.pos(234,100),a.zOrder=50,t.GoldNode=a}))},t.goldAppear=function(e,a,n){e?h.scale_Alpha(t.GoldNode,0,1,1,1,1,1,e,null,0,e=>{t.GoldNode.visible=!0}):t.GoldNode.visible=!0,a&&(t.GoldNode.x=a),n&&(t.GoldNode.y=n)},t.goldVinish=function(e){e?h.scale_Alpha(t.GoldNode,1,1,1,1,1,0,e,null,0,e=>{t.GoldNode.visible=!1}):t.GoldNode.visible=!1},t.addGold=function(e){t._goldNum+=e,t.GoldNode.getChildByName("Num").text=t._goldNum.toString(),Laya.LocalStorage.setItem("_goldNum",t._goldNum.toString())},t.addGoldDisPlay=function(e){let a=t.GoldNode.getChildByName("Num");a.value=(Number(a.value)+e).toString()},t.addGoldNoDisPlay=function(e){t._goldNum+=e,Laya.LocalStorage.setItem("_goldNum",t._goldNum.toString())},function(e){e[e["Frame/Effects/icon_gold.png"]=0]="Frame/Effects/icon_gold.png"}(a||(a={})),t.createOneGold=createOneGold,t.getGoldAni_Single=function(e,t,a,n,i,s,o,l,r){for(let c=0;c<t;c++)Laya.timer.once(30*c,this,()=>{let d=createOneGold(a,n,i);e.addChild(d),h.move_Scale(d,1,s.x,s.y,o.x,o.y,1,350,0,null,()=>{c===t-1?Laya.timer.once(200,this,()=>{r&&r()}):l&&l(),d.removeSelf()})})},t.getGoldAni_Heap=function(e,t,n,i,s,o,l,r,c){for(let d=0;d<t;d++){let g=createOneGold(n,i,s);e.addChild(g),g.skin=s||a[0];let u=1==Math.floor(2*Math.random())?o.x+100*Math.random():o.x-100*Math.random(),p=1==Math.floor(2*Math.random())?o.y+100*Math.random():o.y-100*Math.random();h.move_Scale(g,.5,o.x,o.y,u,p,1,300,100*Math.random()+100,Laya.Ease.expoIn,()=>{h.move_Scale(g,1,g.x,g.y,l.x,l.y,1,400,200*Math.random()+100,Laya.Ease.cubicOut,()=>{d===t-1?Laya.timer.once(200,this,()=>{c&&c()}):r&&r(),g.removeSelf()})})}};class n extends Laya.Script{onAwake(){this.initProperty()}onEnable(){this.self=this.owner,this.selfScene=this.self.scene;let e=this.__proto__.constructor.name;this.self[e]=this,this.timer=0,this.lwgInit(),this.propertyAssign()}lwgInit(){}initProperty(){}propertyAssign(){this.startAlpha&&(this.self.alpha=this.startAlpha),this.startScale&&this.self.scale(this.startScale,this.startScale),this.startRotat&&(this.self.rotation=this.startRotat)}commonSpeedXYByAngle(e,t){this.self.x+=u.speedXYByAngle(e,t+this.accelerated).x,this.self.y+=u.speedXYByAngle(e,t+this.accelerated).y}moveRules(){}onUpdate(){this.moveRules()}onDisable(){Laya.Pool.recover(this.self.name,this.self),this.destroy(),Laya.Tween.clearAll(this),Laya.timer.clearAll(this)}}t.GoldAniBase=n;t.AddGold=class extends n{lwgInit(){this.self.width=115,this.self.height=111,this.self.pivotX=this.self.width/2,this.self.pivotY=this.self.height/2}initProperty(){}moveRules(){this.moveSwitch&&(this.timer++,this.timer>0&&(e.Animation2D.move_Scale(this.self,1,this.self.x,this.self.y,this.targetX,this.targetY,.35,250,0,e=>{this.self.removeSelf(),null!==this.func&&this.func()}),this.moveSwitch=!1))}}}(i=e.Gold||(e.Gold={})),function(e){let t,n,i;e._sceneControl={},e._gameStart=!1,function(e){e.RECORDS="RECORDS"}(t=e.JsonProperty||(e.JsonProperty={})),function(e){e.UILoding="UILoding",e.UIStart="UIStart",e.UIMain="UIMain",e.GameMain3D="GameMain3D",e.UIVictory="UIVictory",e.UIDefeated="UIDefeated",e.UIExecutionHint="UIExecutionHint",e.UIPassHint="UIPassHint",e.UISet="UISet",e.UIPifu="UIPifu",e.UIPuase="UIPuase",e.UIShare="UIShare",e.UISmallHint="UISmallHint",e.UISkinXD="UISkinXD",e.UISkinTry="UISkinTry",e.UIRedeem="UIRedeem",e.UIAnchorXD="UIAnchorXD",e.UITurntable="UITurntable",e.UICaiDanQiang="UICaiDanQiang",e.UICaidanPifu="UICaidanPifu",e.UIOperation="UIOperation",e.UIShop="UIShop",e.UITask="UITask",e.UIVictoryBox="UIVictoryBox",e.UICheckIn="UICheckIn",e.UIResurgence="UIResurgence",e.UISkin="UISkin",e.UIEasterEgg="UIEasterEgg"}(n=e.SceneName||(e.SceneName={})),function(e){e.GameStart="GameStart",e.Play="Play",e.Pause="pause",e.Victory="victory",e.Defeated="defeated"}(i=e.GameState||(e.GameState={})),e._openScene=function(t,a,n,i){Laya.Scene.load("Scene/"+t+".json",Laya.Handler.create(this,function(s){s.width=Laya.stage.width,s.height=Laya.stage.height,a?Laya.stage.addChildAt(s,a):Laya.stage.addChild(s),s.name=t,e._sceneControl[t]=s;let o=s.getChildByName("Background");o&&(o.width=Laya.stage.width,o.height=Laya.stage.height),n&&n.close(),i&&i()}))},e._nextCustomScene=function(e){},e._refreshScene=function(){},e._closeCustomScene=function(){};e.Scene=class extends Laya.Script{constructor(){super(),this.aniTime=100,this.aniDelayde=100}onAwake(){this.self=this.owner,this.calssName=this.__proto__.constructor.name,this.self[this.calssName]=this,this.gameState(this.calssName),this.lwgNodeDec(),this.lwgOnAwake(),this.lwgVariateInit(),this.lwgAdaptive()}lwgOnAwake(){}onEnable(){this.lwgEventReg(),this.lwgOnEnable(),this.btnAndlwgOpenAni()}lwgNodeDec(){}lwgEventReg(){}lwgVariateInit(){}gameState(t){switch(t){case n.UIStart:e._gameState=i.GameStart;break;case n.UIMain:e._gameState=i.Play;break;case n.UIDefeated:e._gameState=i.Defeated;break;case n.UIVictory:e._gameState=i.Victory}}lwgOnEnable(){}btnAndlwgOpenAni(){let e=this.lwgOpenAni();e?Laya.timer.once(e,this,e=>{this.lwgBtnClick()}):this.lwgBtnClick()}lwgBtnClick(){}lwgOpenAni(){return this.aniTime}lwgAdaptive(){}lwgVanishAni(){return 0}onUpdate(){this.lwgOnUpdate()}lwgOnUpdate(){}onDisable(){this.lwgOnDisable(),Laya.timer.clearAll(this),Laya.Tween.clearAll(this),a.offCaller(this)}lwgOnDisable(){}};e.Scene3D=class extends Laya.Script3D{constructor(){super(),this.mainCameraFpos=new Laya.Vector3}onAwake(){this.self=this.owner,this.calssName=this.__proto__.constructor.name,this.gameState(this.calssName),this.MainCamera=this.self.getChildByName("Main Camera"),this.MainCamera&&(this.mainCameraFpos.x=this.MainCamera.transform.localPositionX,this.mainCameraFpos.y=this.MainCamera.transform.localPositionY,this.mainCameraFpos.z=this.MainCamera.transform.localPositionZ),this.lwgOnAwake(),this.lwgNodeDec(),this.lwgAdaptive()}lwgOnAwake(){}onEnable(){this.self[this.calssName]=this,this.lwgEventReg(),this.lwgOnEnable(),this.lwgBtnClick(),this.lwgAdaptive(),this.lwgOpenAni()}lwgNodeDec(){}lwgEventReg(){}gameState(t){switch(t){case n.UIStart:e._gameState=i.GameStart;break;case n.UIMain:e._gameState=i.Play;break;case n.UIDefeated:e._gameState=i.Defeated;break;case n.UIVictory:e._gameState=i.Victory}}lwgOnEnable(){}lwgBtnClick(){}lwgAdaptive(){}lwgOpenAni(){}lwgVanishAni(){}onUpdate(){this.lwgOnUpDate()}lwgOnUpDate(){}onDisable(){this.lwgOnDisable()}lwgOnDisable(){}};e.Person=class extends Laya.Script{constructor(){super()}onAwake(){}lwgOnAwake(){}onEnable(){this.self=this.owner,this.selfScene=this.self.scene,this.rig=this.self.getComponent(Laya.RigidBody);let e=this.__proto__.constructor.name;this.self[e]=this,this.lwgOnEnable()}lwgOnEnable(){console.log("父类的初始化！")}};e.Object=class extends Laya.Script{constructor(){super()}onAwake(){this.self=this.owner,this.selfScene=this.self.scene;let e=this.__proto__.constructor.name;this.self[e]=this,this.lwgNodeDec()}lwgNodeDec(){}onEnable(){this.lwgOnEnable(),this.lwgBtnClick(),this.lwgEventReg()}lwgOnEnable(){}lwgBtnClick(){}lwgEventReg(){}onUpdate(){this.lwgOnUpdate()}lwgOnUpdate(){}onDisable(){this.lwgOnDisable(),Laya.timer.clearAll(this),a.offCaller(this)}lwgOnDisable(){}};e.Object3D=class extends Laya.Script3D{constructor(){super()}onAwake(){this.self=this.owner,this.selfTransform=this.self.transform,this.selfScene=this.self.scene;let e=this.__proto__.constructor.name;this.self[e]=this,this.rig3D=this.self.getComponent(Laya.Rigidbody3D),this.BoxCol3D=this.self.getComponent(Laya.PhysicsCollider),this.lwgNodeDec()}lwgNodeDec(){}onEnable(){this.lwgEventReg(),this.lwgOnEnable()}lwgOnEnable(){}lwgBtnClick(){}lwgEventReg(){}onUpdate(){this.lwgOnUpdate()}lwgOnUpdate(){}onDisable(){this.lwgOnDisable(),Laya.timer.clearAll(this),a.offCaller(this)}lwgOnDisable(){}}}(s=e.Admin||(e.Admin={})),function(t){let a,n;!function(e){e[e["Frame/Effects/cir_white.png"]=0]="Frame/Effects/cir_white.png",e[e["Frame/Effects/cir_black.png"]=1]="Frame/Effects/cir_black.png",e[e["Frame/Effects/cir_blue.png"]=2]="Frame/Effects/cir_blue.png",e[e["Frame/Effects/cir_bluish.png"]=3]="Frame/Effects/cir_bluish.png",e[e["Frame/Effects/cir_cyan.png"]=4]="Frame/Effects/cir_cyan.png",e[e["Frame/Effects/cir_grass.png"]=5]="Frame/Effects/cir_grass.png",e[e["Frame/Effects/cir_green.png"]=6]="Frame/Effects/cir_green.png",e[e["Frame/Effects/cir_orange.png"]=7]="Frame/Effects/cir_orange.png",e[e["Frame/Effects/cir_pink.png"]=8]="Frame/Effects/cir_pink.png",e[e["Frame/Effects/cir_purple.png"]=9]="Frame/Effects/cir_purple.png",e[e["Frame/Effects/cir_red.png"]=10]="Frame/Effects/cir_red.png",e[e["Frame/Effects/cir_yellow.png"]=11]="Frame/Effects/cir_yellow.png",e[e["Frame/Effects/star_black.png"]=12]="Frame/Effects/star_black.png",e[e["Frame/Effects/star_blue.png"]=13]="Frame/Effects/star_blue.png",e[e["Frame/Effects/star_bluish.png"]=14]="Frame/Effects/star_bluish.png",e[e["Frame/Effects/star_cyan.png"]=15]="Frame/Effects/star_cyan.png",e[e["Frame/Effects/star_grass.png"]=16]="Frame/Effects/star_grass.png",e[e["Frame/Effects/star_green.png"]=17]="Frame/Effects/star_green.png",e[e["Frame/Effects/star_orange.png"]=18]="Frame/Effects/star_orange.png",e[e["Frame/Effects/star_pink.png"]=19]="Frame/Effects/star_pink.png",e[e["Frame/Effects/star_purple.png"]=20]="Frame/Effects/star_purple.png",e[e["Frame/Effects/star_red.png"]=21]="Frame/Effects/star_red.png",e[e["Frame/Effects/star_white.png"]=22]="Frame/Effects/star_white.png",e[e["Frame/Effects/star_yellow.png"]=23]="Frame/Effects/star_yellow.png"}(a=t.SkinUrl||(t.SkinUrl={})),function(e){e.star="star",e.dot="dot"}(n=t.SkinStyle||(t.SkinStyle={}));t.EffectsBase=class extends Laya.Script{onAwake(){this.initProperty()}onEnable(){this.self=this.owner,this.selfScene=this.self.scene;let e=this.__proto__.constructor.name;this.self[e]=this,this.timer=0,this.lwgInit(),this.propertyAssign()}lwgInit(){}initProperty(){}propertyAssign(){this.startAlpha&&(this.self.alpha=this.startAlpha),this.startScale&&this.self.scale(this.startScale,this.startScale),this.startRotat&&(this.self.rotation=this.startRotat)}commonSpeedXYByAngle(e,t){this.self.x+=u.speedXYByAngle(e,t+this.accelerated).x,this.self.y+=u.speedXYByAngle(e,t+this.accelerated).y}moveRules(){}onUpdate(){this.moveRules()}onDisable(){Laya.Pool.recover(this.self.name,this.self),this.destroy(),Laya.Tween.clearAll(this),Laya.timer.clearAll(this)}},t.createCommonExplosion=function(e,t,n,s,o,l,r){for(let c=0;c<t;c++){let t,c=Laya.Pool.getItemByClass("ele",Laya.Image);c.name="ele","star"===o?t=12+Math.floor(12*Math.random()):"dot"===o&&(t=Math.floor(12*Math.random())),c.skin=a[t],c.alpha=1,e.addChild(c),c.pos(n,s);let h=c.addComponent(i);h.startSpeed=Math.random()*l,h.continueTime=2*Math.random()+r}};class i extends e.Effects.EffectsBase{lwgInit(){this.self.width=25,this.self.height=25,this.self.pivotX=this.self.width/2,this.self.pivotY=this.self.height/2}initProperty(){this.startAngle=360*Math.random(),this.startSpeed=5*Math.random()+8,this.startScale=.4+.6*Math.random(),this.accelerated=2,this.continueTime=8+10*Math.random(),this.rotateDir=1===Math.floor(2*Math.random())?"left":"right",this.rotateRan=10*Math.random()}moveRules(){this.timer++,"left"===this.rotateDir?this.self.rotation+=this.rotateRan:this.self.rotation-=this.rotateRan,this.timer>=this.continueTime/2&&(this.self.alpha-=.04,this.self.alpha<=.65&&this.self.removeSelf()),this.commonSpeedXYByAngle(this.startAngle,this.startSpeed+this.accelerated),this.accelerated+=.2}}t.commonExplosion=i,t.createExplosion_Rotate=function(e,t,i,o,l,r,c){for(let h=0;h<t;h++){let t,h=Laya.Pool.getItemByClass("ele",Laya.Image);h.name="ele",l===n.star?t=12+Math.floor(12*Math.random()):l===n.dot&&(t=Math.floor(12*Math.random())),h.skin=a[t],h.alpha=1,e.addChild(h),h.pos(i,o);let d=h.addComponent(s);d.startSpeed=2+Math.random()*r,d.rotateRan=Math.random()*c}};class s extends e.Effects.EffectsBase{lwgInit(){this.self.width=41,this.self.height=41,this.self.pivotX=this.self.width/2,this.self.pivotY=this.self.height/2}initProperty(){this.startAngle=360*Math.random(),this.startSpeed=5*Math.random()+8,this.startScale=.4+.6*Math.random(),this.accelerated=0,this.continueTime=5+20*Math.random(),this.rotateDir=1===Math.floor(2*Math.random())?"left":"right",this.rotateRan=15*Math.random()}moveRules(){"left"===this.rotateDir?this.self.rotation+=this.rotateRan:this.self.rotation-=this.rotateRan,this.startSpeed-this.accelerated<=.1?(this.self.alpha-=.03,this.self.alpha<=0&&this.self.removeSelf()):this.accelerated+=.2,this.commonSpeedXYByAngle(this.startAngle,this.startSpeed-this.accelerated)}}t.Explosion_Rotate=s,t.createFireworks=function(e,t,n,i){for(let s=0;s<t;s++){let t=Laya.Pool.getItemByClass("fireworks",Laya.Image);t.name="fireworks";let s=12+Math.floor(11*Math.random());t.alpha=1,t.skin=a[s],e.addChild(t),t.pos(n,i),t.getComponent(o)||t.addComponent(o)}};class o extends e.Effects.EffectsBase{lwgInit(){this.self.width=41,this.self.height=41,this.self.pivotX=this.self.width/2,this.self.pivotY=this.self.height/2}initProperty(){this.startAngle=360*Math.random(),this.startSpeed=5*Math.random()+5,this.startScale=.4+.6*Math.random(),this.accelerated=.1,this.continueTime=200+10*Math.random()}moveRules(){this.timer++,this.timer>=3*this.continueTime/5&&(this.self.alpha-=.1),this.timer>=this.continueTime?this.self.removeSelf():this.commonSpeedXYByAngle(this.startAngle,this.startSpeed),this.self.scaleX<0?this.self.scaleX+=.01:this.self.scaleX>=this.startScale&&(this.self.scaleX-=.01)}}t.Fireworks=o,t.createLeftOrRightJet=function(e,t,n,i,s){for(let o=0;o<n;o++){let n=Laya.Pool.getItemByClass("Jet",Laya.Image);n.name="Jet";let o=12+Math.floor(11*Math.random());n.skin=a[o],n.alpha=1,e.addChild(n),n.pos(i,s);let r=n.getComponent(l);if(r)r.direction=t,r.initProperty();else{n.addComponent(l);let e=n.getComponent(l);e.direction=t,e.initProperty()}}};class l extends e.Effects.EffectsBase{lwgInit(){this.self.width=41,this.self.height=41,this.self.pivotX=this.self.width/2,this.self.pivotY=this.self.height/2}initProperty(){"left"===this.direction?this.startAngle=100*Math.random()-90+45-10-20:"right"===this.direction&&(this.startAngle=100*Math.random()+90+45+20),this.startSpeed=10*Math.random()+3,this.startScale=.4+.6*Math.random(),this.accelerated=.1,this.continueTime=300+50*Math.random(),this.randomRotate=1+20*Math.random()}moveRules(){this.timer++,this.timer>=3*this.continueTime/5&&(this.self.alpha-=.1),this.timer>=this.continueTime?this.self.removeSelf():this.commonSpeedXYByAngle(this.startAngle,this.startSpeed),this.self.rotation+=this.randomRotate,this.self.scaleX<0?this.self.scaleX+=.01:this.self.scaleX>=this.startScale&&(this.self.scaleX-=.01)}}t.leftOrRightJet=l}(o=e.Effects||(e.Effects={})),function(e){e.skLoding=function(){},e.onCompelet=function(e){console.log(e._skBufferUrl,"加载成功")},e.onError=function(e){console.log(e,"加载失败！")}}(l=e.Sk||(e.Sk={})),function(e){let t;!function(e){e.noEffect="noEffect",e.largen="largen",e.balloon="balloon",e.beetle="beetle"}(t=e.Type||(e.Type={})),e.on=function(e,a,n,i,s,o,l){let r;switch(e){case t.noEffect:r=new _;break;case t.largen:r=new w;break;case t.balloon:r=new v;break;case t.balloon:r=new T;break;default:r=new w}a.on(Laya.Event.MOUSE_DOWN,n,i),a.on(Laya.Event.MOUSE_MOVE,n,s),a.on(Laya.Event.MOUSE_UP,n,o),a.on(Laya.Event.MOUSE_OUT,n,l),a.on(Laya.Event.MOUSE_DOWN,n,r.down),a.on(Laya.Event.MOUSE_MOVE,n,r.move),a.on(Laya.Event.MOUSE_UP,n,r.up),a.on(Laya.Event.MOUSE_OUT,n,r.out)},e.off=function(e,a,n,i,s,o,l){let r;switch(e){case t.noEffect:r=new _;break;case t.largen:r=new w;break;case t.balloon:r=new v;break;case t.balloon:r=new T;break;default:r=new w}a.off(Laya.Event.MOUSE_DOWN,n,i),a.off(Laya.Event.MOUSE_MOVE,n,s),a.off(Laya.Event.MOUSE_UP,n,o),a.off(Laya.Event.MOUSE_OUT,n,l),a.off(Laya.Event.MOUSE_DOWN,n,r.down),a.off(Laya.Event.MOUSE_MOVE,n,r.move),a.off(Laya.Event.MOUSE_UP,n,r.up),a.off(Laya.Event.MOUSE_OUT,n,r.out)}}(r=e.Click||(e.Click={}));class _{constructor(){}down(e){console.log("无点击效果的点击")}move(e){}up(e){}out(e){}}e.Btn_NoEffect=_;class w{constructor(){}down(e){e.currentTarget.scale(1.1,1.1),g.playSound(r.audioUrl)}move(e){}up(e){e.currentTarget.scale(1,1)}out(e){e.currentTarget.scale(1,1)}}e.Btn_LargenEffect=w;class v{constructor(){}down(e){e.currentTarget.scale(r.balloonScale+.06,r.balloonScale+.06),g.playSound(r.audioUrl)}up(e){e.currentTarget.scale(r.balloonScale,r.balloonScale)}move(e){e.currentTarget.scale(r.balloonScale,r.balloonScale)}out(e){e.currentTarget.scale(r.balloonScale,r.balloonScale)}}e.Btn_Balloon=v;class T{constructor(){}down(e){e.currentTarget.scale(r.beetleScale+.06,r.beetleScale+.06),g.playSound(r.audioUrl)}up(e){e.currentTarget.scale(r.beetleScale,r.beetleScale)}move(e){e.currentTarget.scale(r.beetleScale,r.beetleScale)}out(e){e.currentTarget.scale(r.beetleScale,r.beetleScale)}}e.Btn_Beetle=T,function(e){e.tweenMap={},e.frame=1,e.MoveTo=function(t,a,n,i,s,o,l=0,r=!0,c,h){let d=t.transform.position.clone();if(0==n||null==n)return t.transform.position=a.clone(),void(o&&o.apply(i));(h<=0||null==h)&&(h=this.frame);let g=function(){t.transform&&(t.transform.position=d),c&&c()};Laya.timer.once(l,t,function(){Laya.timer.frameLoop(h,t,g)});let u=Laya.Tween.to(d,{x:a.x,y:a.y,z:a.z},n,s,Laya.Handler.create(t,function(){t.transform&&(t.transform.position=a.clone(),Laya.timer.clear(t,g)),o&&o.apply(i)}),l,r);e.tweenMap[t.id]||(e.tweenMap[t.id]=[]),e.tweenMap[t.id].push(u)},e.RotateTo=function(t,a,n,i,s,o,l,r,c,h){let d=t.transform.localRotationEuler.clone();if(0==n||null==n)return t.transform.localRotationEuler=a.clone(),void(o&&o.apply(i));(h<=0||null==h)&&(h=this.frame);let g=function(){t.transform&&(t.transform.localRotationEuler=d),c&&c()};Laya.timer.once(l,t,function(){Laya.timer.frameLoop(h,t,g)});let u=Laya.Tween.to(d,{x:a.x,y:a.y,z:a.z},n,s,Laya.Handler.create(t,function(){t.transform&&(t.transform.localRotationEuler=a.clone(),Laya.timer.clear(t,g)),o&&o.apply(i)}),l,r);e.tweenMap[t.id]||(e.tweenMap[t.id]=[]),e.tweenMap[t.id].push(u)},e.ScaleTo=function(t,a,n,i,s,o,l,r,c,h){let d=t.transform.localScale.clone();if(0==n||null==n)return t.transform.localScale=a.clone(),void(o&&o.apply(i));(h<=0||null==h)&&(h=this.frame);let g=function(){t.transform.localScale=d.clone(),c&&c()};Laya.timer.once(l,this,function(){Laya.timer.frameLoop(h,t,g)});let u=Laya.Tween.to(d,{x:a.x,y:a.y,z:a.z},n,s,Laya.Handler.create(t,function(){t.transform.localScale=a.clone(),Laya.timer.clear(t,g),o&&o.apply(i)}),l,r);e.tweenMap[t.id]||(e.tweenMap[t.id]=[]),e.tweenMap[t.id].push(u)},e.ClearTween=function(t){let a=e.tweenMap[t.id];if(a&&a.length)for(;a.length>0;)a.pop().clear();Laya.timer.clearAll(t)}}(c=e.Animation3D||(e.Animation3D={})),function(e){e.simple_Rotate=function(e,t,a,n,i,s){e.rotation=t,i||(i=0),Laya.Tween.to(e,{rotation:a},n,null,Laya.Handler.create(this,function(){s&&s()}),i)},e.upDown_Overturn=function(e,t,a){Laya.Tween.to(e,{scaleY:0},t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleY:1},t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleY:0},t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleY:1},t,null,Laya.Handler.create(this,function(){null===a&&void 0===a||a()}),0)}),0)}),0)}),0)},e.leftRight_Overturn=function(e,t,a){Laya.Tween.to(e,{scaleX:0},t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:1},t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:0},t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:1},t,null,Laya.Handler.create(this,function(){}),0),null!==a&&a()}),0)}),0)}),0)},e.leftRight_Shake=function(e,t,a,n,i){Laya.Tween.to(e,{x:e.x-t},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{x:e.x+2*t},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{x:e.x-t},a,null,Laya.Handler.create(this,function(){null!==i&&i()}))}))}),n)},e.upDwon_Shake=function(e,t,a,n,i){Laya.Tween.to(e,{y:e.y+t},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{y:e.y-2*t},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{y:e.y+t},a,null,Laya.Handler.create(this,function(){null!==i&&i()}))}))}),n)},e.fadeOut=function(e,t,a,n,i,s){e.alpha=t,Laya.Tween.to(e,{alpha:a},n,null,Laya.Handler.create(this,function(){s&&s()}),i)},e.fadeOut_KickBack=function(e,t,a,n,i,s){e.alpha=t,Laya.Tween.to(e,{alpha:a},n,null,Laya.Handler.create(this,function(){null!==s&&s()}),i)},e.move_FadeOut=function(e,t,a,n,i,s,o,l){e.alpha=0,e.x=t,e.y=a,Laya.Tween.to(e,{alpha:1,x:n,y:i},s,null,Laya.Handler.create(this,function(){null!==l&&l()}),o)},e.move_Fade_Out=function(e,t,a,n,i,s,o,l){e.alpha=1,e.x=t,e.y=a,Laya.Tween.to(e,{alpha:0,x:n,y:i},s,null,Laya.Handler.create(this,function(){null!==l&&l()}),o)},e.move_FadeOut_Scale_01=function(e,t,a,n,i,s,o,l){e.alpha=0,e.targetX=0,e.targetY=0,e.x=t,e.y=a,Laya.Tween.to(e,{alpha:1,x:n,y:i,scaleX:1,scaleY:1},s,null,Laya.Handler.create(this,function(){null!==l&&l()}),o)},e.move_Scale=function(e,t,a,n,i,s,o,l,r,c,h){e.scaleX=t,e.scaleY=t,e.x=a,e.y=n,Laya.Tween.to(e,{x:i,y:s,scaleX:o,scaleY:o},l,c?null:c,Laya.Handler.create(this,function(){h&&h()}),r)},e.rotate_Scale=function(e,t,a,n,i,s,o,l,r,c){e.scaleX=a,e.scaleY=n,e.rotation=t,Laya.Tween.to(e,{rotation:i,scaleX:s,scaleY:o},l,null,Laya.Handler.create(this,()=>{c&&c(),e.rotation=0}),r||0)},e.drop_Simple=function(e,t,a,n,i,s,o){e.y=t,Laya.Tween.to(e,{y:a,rotation:n},i,Laya.Ease.circOut,Laya.Handler.create(this,function(){null!==o&&o()}),s)},e.drop_KickBack=function(e,t,a,n,i,s,o,l){e.alpha=t,e.y=a,o||(o=0),Laya.Tween.to(e,{alpha:1,y:n+i},s,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{y:n-i/2},s/2,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{y:n},s/4,null,Laya.Handler.create(this,function(){l&&l()}),0)}),0)}),o)},e.drop_Excursion=function(e,t,a,n,i,s,o){Laya.Tween.to(e,{x:e.x+a,y:e.y+1*t/6},i,Laya.Ease.expoIn,Laya.Handler.create(this,function(){Laya.Tween.to(e,{x:e.x+a+50,y:t,rotation:n},i,null,Laya.Handler.create(this,function(){null!==o&&o()}),0)}),s)},e.goUp_Simple=function(e,t,a,n,i,s,o){e.y=t,e.rotation=a,Laya.Tween.to(e,{y:n,rotation:0},i,Laya.Ease.cubicOut,Laya.Handler.create(this,function(){null!==o&&o()}),s)},e.cardRotateX_TowFace=function(e,t,a,n,i,s){Laya.Tween.to(e,{scaleX:0},n,null,Laya.Handler.create(this,function(){if(t)for(let a=0;a<t.length;a++){let n=e.getChildByName(t[a]);null!==n&&(n.alpha=0)}null!==a&&a(),Laya.Tween.to(e,{scaleX:1},.9*n,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:0},.8*n,null,Laya.Handler.create(this,function(){if(t)for(let a=0;a<t.length;a++){let n=e.getChildByName(t[a]);null!==n&&(n.alpha=1)}Laya.Tween.to(e,{scaleX:1},.7*n,null,Laya.Handler.create(this,function(){null!==s&&s()}),0)}),0)}),0)}),i)},e.cardRotateX_OneFace=function(e,t,a,n,i){Laya.Tween.to(e,{scaleX:0},a,null,Laya.Handler.create(this,function(){null!==t&&t(),Laya.Tween.to(e,{scaleX:1},a,null,Laya.Handler.create(this,function(){null!==i&&i()}),0)}),n)},e.cardRotateY_TowFace=function(e,t,a,n,i,s){Laya.Tween.to(e,{scaleY:0},n,null,Laya.Handler.create(this,function(){if(t)for(let a=0;a<t.length;a++){let n=e.getChildByName(t[a]);null!==n&&(n.alpha=0)}null!==a&&a(),Laya.Tween.to(e,{scaleY:1},n,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleY:0},n,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleY:1},1*n/2,null,Laya.Handler.create(this,function(){if(t)for(let a=0;a<t.length;a++){let n=e.getChildByName(t[a]);null!==n&&(n.alpha=1)}null!==s&&s()}),0)}),0)}),0)}),i)},e.cardRotateY_OneFace=function(e,t,a,n,i){Laya.Tween.to(e,{scaleY:0},a,null,Laya.Handler.create(this,function(){null!==t&&t(),Laya.Tween.to(e,{scaleY:1},a,null,Laya.Handler.create(this,function(){null!==i&&i()}),0)}),n)},e.move_changeRotate=function(e,t,a,n,i,s,o){let l=t*n+e.x*(1-n),r=a*n+e.y*(1-n);Laya.Tween.to(e,{x:l,y:r,rotation:45},s,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{x:t,y:a,rotation:0},s,null,Laya.Handler.create(this,function(){null!==o&&o()}),0)}),0)},e.bombs_Appear=function(e,t,a,n,i,s,o,l,r,c){e.scale(0,0),e.alpha=t,Laya.Tween.to(e,{scaleX:n,scaleY:n,alpha:1,rotation:i},s,Laya.Ease.cubicInOut,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:a,scaleY:a,rotation:0},o,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:a+.2*(n-a),scaleY:a+.2*(n-a),rotation:0},o,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:a,scaleY:a,rotation:0},o,null,Laya.Handler.create(this,function(){c&&c()}),0)}),0)}),0)}),l)},e.bombs_Vanish=function(e,t,a,n,i,s,o){Laya.Tween.to(e,{scaleX:t,scaleY:t,alpha:a,rotation:n},i,Laya.Ease.cubicOut,Laya.Handler.create(this,function(){null!==o&&o()}),s)},e.swell_shrink=function(e,t,a,n,i,s){i||(i=0),Laya.Tween.to(e,{scaleX:a,scaleY:a,alpha:1},n,Laya.Ease.cubicInOut,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:t,scaleY:t,rotation:0},n,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:t+.5*(a-t),scaleY:t+.5*(a-t),rotation:0},.5*n,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:t,scaleY:t,rotation:0},n,null,Laya.Handler.create(this,function(){null!==s&&s()}),0)}),0)}),0)}),i)},e.move_Simple=function(e,t,a,n,i,s,o,l,r){e.x=t,e.y=a,o||(o=0),Laya.Tween.to(e,{x:n,y:i},s,l||null,Laya.Handler.create(this,function(){r&&r()}),o)},e.move_Simple_01=function(e,t,a,n,i,s,o,l,r){l||(l=0),o||(o=null),e.x=t,e.y=a,Laya.Tween.to(e,{x:n,y:i},s,o,Laya.Handler.create(this,function(){r&&r()}),l)},e.move_Deform_X=function(e,t,a,n,i,s,o,l,r){e.alpha=0,e.x=t,e.rotation=a,Laya.Tween.to(e,{x:n,scaleX:1+i,scaleY:1+s,rotation:a/3,alpha:1},o,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:1,scaleY:1,rotation:0},o,null,Laya.Handler.create(this,function(){null!==r&&r()}),0)}),l)},e.move_Deform_Y=function(e,t,a,n,i,s,o,l,r){e.alpha=0,t&&(e.y=t),e.rotation=a,Laya.Tween.to(e,{y:n,scaleX:1+i,scaleY:1+s,rotation:a/3,alpha:1},o,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:1,scaleY:1,rotation:0},o,null,Laya.Handler.create(this,function(){null!==r&&r()}),0)}),l)},e.blink_FadeOut_v=function(e,t,a,n,i,s){e.alpha=t,Laya.Tween.to(e,{alpha:a},n,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{alpha:t},n,null,Laya.Handler.create(this,function(){null!==s&&s()}),0)}),i)},e.blink_FadeOut=function(e,t,a,n,i,s){Laya.Tween.to(e,{alpha:t},n,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{alpha:a},n,null,Laya.Handler.create(this,function(){null!==s&&s()}),0)}),i)},e.shookHead_Simple=function(e,t,a,n,i){let s=e.rotation;Laya.Tween.to(e,{rotation:s+t},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{rotation:s-2*t},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{rotation:s+t},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{rotation:s},a,null,Laya.Handler.create(this,function(){null!==i&&i()}),0)}),0)}),0)}),n)},e.HintAni_01=function(e,t,a,n,i,s,o){e.alpha=0,Laya.Tween.to(e,{alpha:1,y:e.y-t},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{y:e.y-15},n,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{alpha:0,y:e.y+t+i},s,null,Laya.Handler.create(this,function(){null!==o&&o()}),0)}),0)}),0)},e.scale_Alpha=function(e,t,a,n,i,s,o,l,r,c,h){c||(c=0),c||(r=null),e.alpha=t,e.scaleX=a,e.scaleY=n,Laya.Tween.to(e,{scaleX:i,scaleY:s,alpha:o},l,r,Laya.Handler.create(this,function(){h&&h()}),c)},e.rotate_Magnify_KickBack=function(e,t,a,n,i,s,o,l){e.alpha=0,e.scaleX=0,e.scaleY=0,Laya.Tween.to(e,{alpha:1,rotation:360+t,scaleX:1+a,scaleY:1+a},n,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{rotation:360-t/2,scaleX:1+a/2,scaleY:1+a/2},i,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{rotation:360+t/3,scaleX:1+a/5,scaleY:1+a/5},i,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{rotation:360,scaleX:1,scaleY:1},i,null,Laya.Handler.create(this,function(){e.rotation=0,null!==l&&l()}),0)}),o)}),0)}),s)}}(h=e.Animation2D||(e.Animation2D={})),function(e){e._sound={get switch(){return"0"!=Laya.LocalStorage.getItem("Setting_sound")},set switch(e){let t;t=e?1:0,Laya.LocalStorage.setItem("Setting_sound",t.toString())}},e._bgMusic={get switch(){return"0"!=Laya.LocalStorage.getItem("Setting_bgMusic")},set switch(e){let t;e?(t=1,g.playMusic()):(t=0,g.stopMusic()),Laya.LocalStorage.setItem("Setting_bgMusic",t.toString())}},e._shake={get switch(){return"0"!=Laya.LocalStorage.getItem("Setting_shake")},set switch(e){let t;t=e?1:0,Laya.LocalStorage.setItem("Setting_shake",t.toString())}},e.createSetBtn=function(t,a,n,i,o,l){let c=new Laya.Image;c.width=n||100,c.height=i||100,c.skin=o||"Frame/UI/icon_set.png",l?l.addChild(c):Laya.stage.addChild(c),c.pivotX=c.width/2,c.pivotY=c.height/2,c.x=t,c.y=a,c.zOrder=100,r.on(r.Type.largen,c,null,null,null,function(){s._openScene(s.SceneName.UISet)},null),e.BtnSetNode=c,e.BtnSetNode.name="BtnSetNode"},e.setBtnAppear=function(t,a,n){t?h.scale_Alpha(e.BtnSetNode,0,1,1,1,1,1,t,null,0,t=>{e.BtnSetNode.visible=!0}):e.BtnSetNode.visible=!0,a&&(e.BtnSetNode.x=a),n&&(e.BtnSetNode.y=n)},e.setBtnVinish=function(t){t?h.scale_Alpha(e.BtnSetNode,1,1,1,1,1,0,t,null,0,t=>{e.BtnSetNode.visible=!1}):e.BtnSetNode.visible=!1}}(d=e.Setting||(e.Setting={})),function(e){let t;!function(e){e.btn="Frame/voice/btn.wav",e.bgm="Frame/voice/bgm.mp3",e.victory="Frame/voice/guoguan.wav",e.defeated="Frame/voice/wancheng.wav"}(t=e.voiceUrl||(e.voiceUrl={})),e.playSound=function(e,a,n){e||(e=t.btn),a||(a=1),d._sound.switch&&Laya.SoundManager.playSound(e,a,Laya.Handler.create(this,function(){n&&n()}))},e.playDefeatedSound=function(e,a,n){e||(e=t.defeated),a||(a=1),d._sound.switch&&Laya.SoundManager.playSound(e,a,Laya.Handler.create(this,function(){n&&n()}))},e.playVictorySound=function(e,a,n){e||(e=t.victory),a||(a=1),d._sound.switch&&Laya.SoundManager.playSound(e,a,Laya.Handler.create(this,function(){n&&n()}))},e.playMusic=function(e,a,n){e||(e=t.bgm),a||(a=0),n||(n=0),Laya.SoundManager.playMusic(e,a,Laya.Handler.create(this,function(){}),n)},e.stopMusic=function(){Laya.SoundManager.stopMusic()}}(g=e.PalyAudio||(e.PalyAudio={})),function(e){function twoSubV3_3D(e,t,a){let n=new Laya.Vector3;if(Laya.Vector3.subtract(e,t,n),a){let e=new Laya.Vector3;return Laya.Vector3.normalize(n,e),e}return n}function obj_DeepCopy(e){var t={};for(var a in e)t[a]="object"==typeof e[a]?obj_DeepCopy(e[a]):e[a];return t}e.randomNumOfArray=function(e,t){let a=[];if(t>e.length)return"数组长度小于取出的数！";for(let n=0;n<t;n++){let t=Math.floor(Math.random()*(e.length-1)),n=e[t];e.splice(t,1),a.push(n)}return a},e.rayScanning=function(e,t,a,n){let i=new Laya.Ray(new Laya.Vector3(0,0,0),new Laya.Vector3(0,0,0)),s=new Array;if(e.viewportPointToRay(a,i),t.physicsSimulation.rayCastAll(i,s),0!=s.length&&n){let e=null;for(var o=0;o<s.length;o++)s[o].collider.owner.name===n&&(e=s[o]);return e}return s},e.dotRotateXY=function(e,t,a,n,i){let s=e+(a-e)*Math.cos(i*Math.PI/180)-(n-t)*Math.sin(i*Math.PI/180),o=t+(a-e)*Math.sin(i*Math.PI/180)+(n-t)*Math.cos(i*Math.PI/180);return new Laya.Point(s,o)},e.toHexString=function(e,t,a){return"#"+("00000"+(e<<16|t<<8|a).toString(16)).slice(-6)},e.twoObjectsLen_3D=function(e,t){let a=e.transform.position,n=t.transform.position,i=new Laya.Vector3;return Laya.Vector3.subtract(a,n,i),Laya.Vector3.scalarLength(i)},e.twoPositionLen_3D=function(e,t){let a=twoSubV3_3D(e,t);return Laya.Vector3.scalarLength(a)},e.twoObjectsLen_2D=function(e,t){return new Laya.Point(e.x,e.y).distance(t.x,t.y)},e.twoSubV3_3D=twoSubV3_3D,e.reverseVector=function(e,t,a,n){let i;if("2d"===e)return i=new Laya.Point(t.x-a.x,t.y-a.y),n&&i.normalize(),i;if("3d"===e){if(i=new Laya.Vector3(t.x-a.x,t.y-a.y,t.z-a.z),n){let e=new Laya.Vector3;return Laya.Vector3.normalize(i,e),e}return i}},e.vector_Angle=function(e,t){let a=90-Math.atan2(e,t)*(180/Math.PI);return a<=0&&(a=270+(90+a)),a-90},e.angle_Vector=function(e){let t=(90-(e-=90))/(180/Math.PI),a=new Laya.Point(Math.sin(t),Math.cos(t));return a.normalize(),a},e.maximumDistanceLimi_3D=function(e,t,a){let n=new Laya.Vector3,i=t.transform.position;if(Laya.Vector3.subtract(i,e,n),Laya.Vector3.scalarLength(n)>=a){let i=new Laya.Vector3;Laya.Vector3.normalize(n,i);let s=e.x+i.x*a,o=e.y+i.y*a,l=e.z+i.z*a,r=new Laya.Vector3(s,o,l);return t.transform.position=r,r}},e.drawPieMask=function(e,t,a){e.cacheAs="bitmap";let n=new Laya.Sprite;return n.blendMode="destination-out",e.addChild(n),n.graphics.drawPie(e.width/2,e.height/2,e.width/2+10,t,a,"#000000")},e.transitionScreenPointfor3D=function(e,t){let a=new Laya.Vector3;t.viewport.project(e,t.projectionViewMatrix,a);let n=new Laya.Vector2;return n.x=a.x,n.y=a.y,n},e.objPropertySort=function(e,t){return e.sort(function(e,a){var n=e[t],i=a[t];return isNaN(Number(n))||isNaN(Number(i))||(n=Number(n),i=Number(i)),n<i?-1:n>i?1:0}),e},e.dataCompareDifferent=function(e,t,a){for(var n=[],i=0;i<e.length;i++){for(var s=e[i],o=s[a],l=!1,r=0;r<t.length;r++)if(t[r][a]==o){l=!0;break}l||n.push(s)}return n},e.dataComparEidentical=function(e,t,a){for(var n=[],i=0;i<e.length;i++){for(var s=e[i],o=(s[a],!1),l=0;l<t.length;l++)if(t[l][a]==name){o=!0;break}o&&n.push(s)}return n},e.data1AddToData2=function(e,t){for(let a=0;a<t.length;a++){const n=t[a];e.push(n)}},e.random=function(e,t){const a=(e=e||10)-t+1;return Math.floor(Math.random()*a+e)},e.array_Copy=function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a]);return t},e.objArray_Copy=function(e){var t=e instanceof Array?[]:{};for(var a in e)t[a]="object"==typeof e[a]?obj_DeepCopy(e[a]):e[a];return t},e.obj_DeepCopy=obj_DeepCopy,e.speedByAngle=function(e,t){if(e%90==0||!e)return void console.error("计算的角度异常,需要查看：",e);let a={x:0,y:0};return a.y=t.y,a.x=a.y/Math.tan(e*Math.PI/180),a},e.speedXYByAngle=function(e,t){const a={x:0,y:0};return a.x=t*Math.cos(e*Math.PI/180),a.y=t*Math.sin(e*Math.PI/180),a},e.getRad=function(e){return e/180*Math.PI},e.getRoundPos=function(e,t,a){var n=a,i=(t=t,2*Math.PI/360*e);return{x:n.x+Math.sin(i)*t,y:n.y-Math.cos(i)*t}},e.converteNum=function(e){if("number"!=typeof e)return console.warn("要转化的数字并不为number"),e;let t;return t=e<1e3?""+e:e<1e6?(e/1e3).toFixed(1)+"k":e<1e9?(e/1e6).toFixed(1)+"m":""+e},e.arrayUnique_01=function(e){for(var t=0,a=e.length;t<a;t++){var n=t+1;for(a=e.length;n<a;n++)e[t]===e[n]&&(e.splice(n,1),n--,a--)}return e},e.arrayUnique_02=function(e){for(var t=[(e=e.sort())[0]],a=1,n=e.length;a<n;a++)e[a]!==e[a-1]&&t.push(e[a]);return t},e.arrayUnique_03=function(e){return Array.from(new Set(e))},e.dataCompare=function(t,a,n){let i;if(Laya.LocalStorage.getJSON(a)){i=JSON.parse(Laya.LocalStorage.getJSON(a))[a],console.log(a+"从本地缓存中获取到数据,将和文件夹的json文件进行对比");try{let s=Laya.loader.getRes(t).RECORDS;if(s.length>=i.length){let t=e.dataCompareDifferent(s,i,n);console.log("两个数据的差值为：",t),e.data1AddToData2(i,t)}else console.log(a+"数据表填写有误，长度不能小于之前的长度")}catch(e){console.log(a,"数据赋值失败！请检查数据表或者手动赋值！")}}else try{i=Laya.loader.getRes(t).RECORDS}catch(e){console.log(a+"数据赋值失败！请检查数据表或者手动赋值！")}let s={};return s[a]=i,Laya.LocalStorage.setJSON(a,JSON.stringify(s)),i}}(u=e.Tools||(e.Tools={})),function(e){function getTaskClassArr(t){let n=[];switch(t){case a.everyday:n=e.everydayTask;break;case a.perpetual:n=e.perpetualTask}return n}let t,a,n,i,o;e.TaskClassArr=[],e.todayData={get date(){return Laya.LocalStorage.getItem("Task_todayData")?Number(Laya.LocalStorage.getItem("Task_todayData")):null},set date(e){Laya.LocalStorage.setItem("Task_todayData",e.toString())}},e.getTaskProperty=function(e,t,a){let n=null,i=getTaskClassArr(e);for(let e=0;e<i.length;e++){const s=i[e];if(s.name===t){n=s[a];break}}return null!==n?n:(console.log(t+"找不到属性:"+a,n),null)},e.setTaskProperty=function(t,a,n,i){let s=getTaskClassArr(t);for(let e=0;e<s.length;e++){const t=s[e];if(t.name===a){t[n]=i;break}}let o={};o[t]=s,Laya.LocalStorage.setJSON(t,JSON.stringify(o)),e._TaskList&&e._TaskList.refresh()},e.getTaskClassArr=getTaskClassArr,e.doDetectionTask=function(t,a,n){n||(n=1);let i=e.getTaskProperty(t,a,e.TaskProperty.resCondition),s=e.getTaskProperty(t,a,e.TaskProperty.condition);return-1!==e.getTaskProperty(t,a,e.TaskProperty.get)?s<=i+n?(e.setTaskProperty(t,a,e.TaskProperty.resCondition,s),e.setTaskProperty(t,a,e.TaskProperty.get,1),e._TaskList&&e._TaskList.refresh(),1):(e.setTaskProperty(t,a,e.TaskProperty.resCondition,i+n),e._TaskList&&e._TaskList.refresh(),0):-1},function(e){e.name="name",e.explain="explain",e.taskType="taskType",e.condition="condition",e.resCondition="resCondition",e.rewardType="rewardType",e.rewardNum="rewardNum",e.arrange="arrange",e.time="time",e.get="get"}(t=e.TaskProperty||(e.TaskProperty={})),function(e){e.everyday="Task_Everyday",e.perpetual="Task_Perpetual"}(a=e.TaskClass||(e.TaskClass={})),function(e){e.getAward="getAward",e.adsGetAward_Every="adsGetAward_Every",e.useSkins="useSkins",e.victory="victory",e.adsTime="adsTime",e.victoryBox="victoryBox"}(n=e.EventType||(e.EventType={})),function(e){e.ads="ads",e.victory="victory",e.useSkins="useSkins",e.treasureBox="treasureBox"}(i=e.TaskType||(e.TaskType={})),function(e){e["观看广告获得金币"]="观看广告获得金币",e["每日服务10位客人"]="每日服务10位客人",e["每日观看两个广告"]="每日观看两个广告",e["每日使用5种皮肤"]="每日使用5种皮肤",e["每日开启10个宝箱"]="每日开启10个宝箱"}(o=e.TaskName||(e.TaskName={})),e.initTask=function(){e.todayData.date!==(new Date).getDate()?(e.everydayTask=Laya.loader.getRes("GameData/Task/everydayTask.json").RECORDS,console.log("不是同一天，每日任务重制！"),e.todayData.date=(new Date).getDate()):(e.everydayTask=u.dataCompare("GameData/Task/everydayTask.json",a.everyday,t.name),console.log("是同一天！，继续每日任务"))};e.TaskScene=class extends s.Scene{lwgOnAwake(){this.initData(),this.taskOnAwake()}initData(){e._TaskTap=this.self.TaskTap,e._TaskList=this.self.TaskList,e.TaskClassArr=[e.everydayTask]}lwgEventReg(){this.taskEventReg()}taskEventReg(){}taskOnAwake(){}lwgNodeDec(){this.taskNodeDec()}taskNodeDec(){}lwgOnEnable(){this.taskTap_Create(),this.taskList_Create(),this.taskOnEnable()}taskOnEnable(){}taskTap_Create(){e._TaskList.selectHandler=new Laya.Handler(this,this.taskTap_Select)}taskTap_Select(e){}taskList_Create(){e._TaskList.selectEnable=!0,e._TaskList.vScrollBarSkin="",e._TaskList.selectHandler=new Laya.Handler(this,this.taskList_Scelet),e._TaskList.renderHandler=new Laya.Handler(this,this.taskList_Update),this.taskList_refresh()}taskList_Scelet(e){}taskList_Update(e,t){}taskList_refresh(){e._TaskList&&e.TaskClassArr.length>0&&(e._TaskList.array=e.TaskClassArr[0],e._TaskList.refresh())}lwgOnDisable(){this.taskOnDisable()}taskOnDisable(){}}}(p=e.Task||(e.Task={})),function(e){function getGoodsProperty(e,t,a){let n=null,i=getGoodsClassArr(e);for(let e=0;e<i.length;e++){const s=i[e];if(s.name===t){n=s[a];break}}return null!==n?n:(console.log(t+"找不到属性:"+a,n),null)}function setGoodsProperty(t,a,n,i){let s=getGoodsClassArr(t);for(let e=0;e<s.length;e++){const t=s[e];if(t.name===a){t[n]=i;break}}let o={};o[t]=s,Laya.LocalStorage.setJSON(t,JSON.stringify(o)),e._ShopList&&e._ShopList.refresh()}function get_Current(t){let a=null;switch(t){case n.Skin:a=e._currentSkin.name;break;case n.Props:a=e._currentProp.name;break;case n.Other:a=e._currentOther.name}return a}function getGoodsClassArr(t){let a=[];switch(t){case n.Skin:a=e.allSkin;break;case n.Props:a=e.allProps;break;case n.Other:a=e.allOther}return a}let t,a,n,i;e.goodsClassArr=[],e.classWarehouse=[],e._tryName=[],e.allSkin=[],e._currentSkin={get name(){return Laya.LocalStorage.getItem("Shop_currentSkin")?Laya.LocalStorage.getItem("Shop_currentSkin"):null},set name(e){Laya.LocalStorage.setItem("Shop_currentSkin",e)}},e.allProps=[],e._currentProp={get name(){return Laya.LocalStorage.getItem("Shop_currentProp")?Laya.LocalStorage.getItem("Shop_currentProp"):null},set name(e){Laya.LocalStorage.setItem("Shop_currentProp",e)}},e.allOther=[],e._currentOther={get name(){return Laya.LocalStorage.getItem("Shop_crrentOther")?Laya.LocalStorage.getItem("Shop_crrentOther"):null},set name(e){Laya.LocalStorage.setItem("Shop_crrentOther",e)}},e.useSkinType=[],e.setUseSkinType=function(){let t;if(!Laya.LocalStorage.getJSON("Shop_useSkinType"))return;t=JSON.parse(Laya.LocalStorage.getJSON("Shop_useSkinType")),e.useSkinType=null!==t?t.Shop_useSkinType:[],e.useSkinType.push(e._currentOther.name,e._currentProp.name,e._currentSkin.name),e.useSkinType=u.arrayUnique_03(e.useSkinType);let a={Shop_useSkinType:e.useSkinType};return Laya.LocalStorage.setJSON("Shop_useSkinType",JSON.stringify(a)),e.useSkinType.length},e.getGoodsProperty=getGoodsProperty,e.setGoodsProperty=setGoodsProperty,e.getHaveArr=function(e){let a=getGoodsClassArr(e),n=[];for(let e=0;e<a.length;e++){const i=a[e];i[t.have]&&n.push(i)}return n},e.getwayGoldArr=function(e,n,i){let s=getGoodsClassArr(e),o=[];for(let e=0;e<s.length;e++){const i=s[e];n&&void 0!==n?i[t.have]&&i[t.getway]===a.gold&&o.push(i):n||void 0===n?null==n&&i[t.getway]===a.gold&&o.push(i):i[t.have]||i[t.getway]!==a.gold||o.push(i)}if(i&&void 0!==i)for(let a=0;a<o.length;a++)if(o[a][t.name]===get_Current(e)){o.splice(a,1);break}return o},e.getwayIneedwinArr=function(e,n){let i=getGoodsClassArr(e),s=[];for(let e=0;e<i.length;e++){const o=i[e];n&&void 0!==n?o[t.have]&&o[t.getway]===a.ineedwin&&s.push(o):n||void 0===n?null==n&&o[t.getway]===a.ineedwin&&s.push(o):o[t.have]||o[t.getway]!==a.ineedwin||s.push(o)}return s},e.get_Current=get_Current,e.getGoodsClassArr=getGoodsClassArr,e.buyGoods=function(a,n,i){i||(i=1);let s=getGoodsProperty(a,n,t.resCondition),o=getGoodsProperty(a,n,t.condition),l=getGoodsProperty(a,n,t.have);return!0!==l&&null!==l?o<=s+i?(setGoodsProperty(a,n,t.resCondition,o),setGoodsProperty(a,n,t.have,!0),e._ShopList&&e._ShopList.refresh(),1):(setGoodsProperty(a,n,t.resCondition,s+i),e._ShopList&&e._ShopList.refresh(),0):-1},e.initShop=function(){e.allSkin=u.dataCompare("GameData/Shop/Skin.json",n.Skin,t.name),e.allProps=u.dataCompare("GameData/Shop/Props.json",n.Props,t.name),e.allOther=u.dataCompare("GameData/Shop/Other.json",n.Other,t.name)},function(e){e.name="name",e.getway="getway",e.condition="condition",e.resCondition="resCondition",e.arrange="arrange",e.getOder="getOder",e.have="have"}(t=e.GoodsProperty||(e.GoodsProperty={})),function(e){e.free="free",e.ads="ads",e.adsXD="adsXD",e.ineedwin="ineedwin",e.gold="gold",e.diamond="diamond",e.easterEgg="easterEgg",e.other="other"}(a=e.Getway||(e.Getway={})),function(e){e.Skin="Shop_Skin",e.Props="Shop_Props",e.Other="Shop_Other"}(n=e.GoodsClass||(e.GoodsClass={})),function(e){e.select="select"}(i=e.EventType||(e.EventType={}));e.ShopScene=class extends s.Scene{lwgOnAwake(){this.initData(),this.shopOnAwake()}initData(){e._ShopTap=this.self.MyTap,e._ShopList=this.self.MyList,e.allSkin||(e.allSkin=u.dataCompare("GameData/Shop/Skin.json",n.Skin,t.name)),e.allProps||(e.allProps=u.dataCompare("GameData/Shop/Props.json",n.Props,t.name)),e.allOther||(e.allOther=u.dataCompare("GameData/Shop/Other.json",n.Other,t.name)),e.goodsClassArr=[e.allSkin,e.allProps,e.allOther],e.classWarehouse=[n.Skin,n.Props,n.Skin]}lwgEventReg(){this.shopEventReg()}shopEventReg(){}shopOnAwake(){}lwgNodeDec(){this.shopNodeDec()}shopNodeDec(){}lwgOnEnable(){this.myList_Create(),this.myTap_Create(),this.shopOnEnable()}shopOnEnable(){}myTap_Create(){e._ShopTap.selectHandler=new Laya.Handler(this,this.myTap_Select)}myTap_Select(e){}myList_Create(){e._ShopList.selectEnable=!0,e._ShopList.selectHandler=new Laya.Handler(this,this.myList_Scelet),e._ShopList.renderHandler=new Laya.Handler(this,this.myList_Update),this.myList_refresh()}myList_Scelet(e){}myList_Update(e,t){}myList_refresh(){e._ShopList&&e.goodsClassArr.length>0&&(e._ShopList.array=e.goodsClassArr[0],e._ShopList.refresh())}lwgOnDisable(){this.shopOnDisable()}shopOnDisable(){}}}(y=e.Shop||(e.Shop={})),function(e){let t,a;e._BoxArray=[],e._defaultOpenNum=3,e._alreadyOpenNum=0,e._adsMaxOpenNum=6,e._openVictoryBoxNum=0,e.getBoxProperty=function(t,a){let n=null;for(let i=0;i<e._BoxArray.length;i++){const s=e._BoxArray[i];if(s.name===t){n=s[a];break}}return null!==n?n:(console.log(t+"找不到属性:"+a,n),null)},e.setBoxProperty=function(t,a,n){for(let i=0;i<e._BoxArray.length;i++){const s=e._BoxArray[i];if(s.name===t){s[a]=n;break}}e._BoxList&&e._BoxList.refresh()},function(e){e.name="name",e.rewardType="rewardType",e.rewardNum="rewardNum",e.openState="openState",e.ads="ads",e.select="select"}(t=e.BoxProperty||(e.BoxProperty={})),function(e){e.openBox="openBox"}(a=e.EventType||(e.EventType={}));e.VictoryBoxScene=class extends s.Scene{lwgOnAwake(){this.initData(),this.victoryBoxOnAwake()}initData(){e._BoxList=this.self.BoxList,e._BoxArray=u.objArray_Copy(Laya.loader.getRes("GameData/VictoryBox/VictoryBox.json").RECORDS),e._selectBox=null,e._defaultOpenNum=3,e._openVictoryBoxNum++,e._adsMaxOpenNum=6,e._alreadyOpenNum=0}victoryBoxOnAwake(){}lwgOnEnable(){this.boxList_Create(),this.victoryBoxOnEnable()}victoryBoxOnEnable(){}boxList_Create(){e._BoxList.selectEnable=!0,e._BoxList.selectHandler=new Laya.Handler(this,this.boxList_Scelet),e._BoxList.renderHandler=new Laya.Handler(this,this.boxList_Update),this.boxList_refresh()}boxList_Scelet(e){}boxList_Update(e,t){}boxList_refresh(){e._BoxList&&(e._BoxList.array=e._BoxArray,e._BoxList.refresh())}lwgNodeDec(){this.victoryBoxNodeDec()}victoryBoxNodeDec(){}lwgBtnClick(){this.victoryBoxBtnClick()}victoryBoxBtnClick(){}lwgEventReg(){this.victoryBoxEventReg()}victoryBoxEventReg(){}lwgOnDisable(){this.victoryBoxOnDisable()}victoryBoxOnDisable(){}lwgOnUpdate(){this.victoryOnUpdate()}victoryOnUpdate(){}}}(m=e.VictoryBox||(e.VictoryBox={})),function(e){function getCheckProperty(t,a){let n=null;for(let i=0;i<e._checkArray.length;i++){const s=e._checkArray[i];if(s.name===t){n=s[a];break}}return null!==n?n:(console.log(t+"找不到属性:"+a,n),null)}function setCheckProperty(t,a,n,i){for(let t=0;t<e._checkArray.length;t++){const s=e._checkArray[t];if(s.name===a){s[n]=i;break}}let s={};s[t]=e._checkArray,Laya.LocalStorage.setJSON(t,JSON.stringify(s)),e._checkList&&e._checkList.refresh()}let t,a,n;e._lastCheckDate={get date(){return Laya.LocalStorage.getItem("Check_lastCheckDate")?Number(Laya.LocalStorage.getItem("Check_lastCheckDate")):-1},set date(e){Laya.LocalStorage.setItem("Check_lastCheckDate",e.toString())}},e._checkInNum={get number(){return Laya.LocalStorage.getItem("Check_checkInNum")?Number(Laya.LocalStorage.getItem("Check_checkInNum")):0},set number(e){Laya.LocalStorage.setItem("Check_checkInNum",e.toString())}},e.getCheckProperty=getCheckProperty,e.setCheckProperty=setCheckProperty,e.openCheckIn=function(){(new Date).getDate()!==e._lastCheckDate.date?(console.log("没有签到过，弹出签到页面！"),s._openScene(s.SceneName.UICheckIn)):console.log("签到过了，今日不可以再签到")},e.todayCheckIn_7Days=function(){let n=(new Date).getDate();e._lastCheckDate.date=n,e._checkInNum.number++,setCheckProperty(t.chek_7Days,"day"+e._checkInNum.number,a.checkInState,!0);let i=getCheckProperty("day"+e._checkInNum.number,a.rewardNum);return 7===e._checkInNum.number&&(e._checkInNum.number=0,Laya.LocalStorage.removeItem(t.chek_7Days)),i},function(e){e.chek_7Days="Chek_7Days",e.chek_15Days="Chek_15Days",e.chek_30Days="Chek_30Days"}(t=e.CheckClass||(e.CheckClass={})),function(e){e.name="name",e.rewardType="rewardType",e.rewardNum="rewardNum",e.checkInState="checkInState",e.arrange="arrange"}(a=e.CheckProPerty||(e.CheckProPerty={})),function(e){e.removeCheckBtn="removeCheckBtn"}(n=e.EventType||(e.EventType={}));e.CheckInScene=class extends s.Scene{lwgOnAwake(){this.initData(),this.checkInOnAwake()}initData(){e._checkList=this.self.CheckList,e._checkArray=u.dataCompare("GameData/CheckIn/CheckIn.json",t.chek_7Days,a.name)}checkInOnAwake(){}lwgOnEnable(){this.checkList_Create(),this.checkInOnEnable()}checkInOnEnable(){}checkList_Create(){e._checkList.selectEnable=!0,e._checkList.selectHandler=new Laya.Handler(this,this.checkList_Scelet),e._checkList.renderHandler=new Laya.Handler(this,this.checkList_Update),this.checkList_refresh()}checkList_Scelet(e){}checkList_Update(e,t){}checkList_refresh(){e._checkList&&(e._checkList.array=e._checkArray,e._checkList.refresh())}lwgNodeDec(){this.checkInNodeDec()}checkInNodeDec(){}lwgBtnClick(){this.checkInBtnClick()}checkInBtnClick(){}lwgEventReg(){this.checkInEventReg()}checkInEventReg(){}lwgOnDisable(){this.checkInOnDisable()}checkInOnDisable(){}lwgOnUpdate(){this.checkInOnUpdate()}checkInOnUpdate(){}}}(f=e.CheckIn||(e.CheckIn={})),function(e){let t;e._adsNum={get value(){return Laya.LocalStorage.getItem("XDSKin_adsNum")?Number(Laya.LocalStorage.getItem("XDSKin_adsNum")):0},set value(e){Laya.LocalStorage.setItem("XDSKin_adsNum",e.toString())}},e.openXDSkin=function(t){e._adsNum.value>=e._needAdsNum||(s._openScene(s.SceneName.UISkinXD),e._fromScene=t)},function(e){e.acquisition="acquisition"}(t=e.EventType||(e.EventType={}));e.SkinXDScene=class extends s.Scene{lwgOnAwake(){this.initData(),this.skinXDOnAwake()}initData(){e._needAdsNum=3}skinXDOnAwake(){}lwgAdaptive(){this.skinXDAdaptive()}skinXDAdaptive(){}lwgOnEnable(){this.skinXDOnEnable()}skinXDOnEnable(){}lwgNodeDec(){this.skinXDNodeDec()}skinXDNodeDec(){}lwgBtnClick(){this.skinXDBtnClick()}skinXDBtnClick(){}lwgEventReg(){this.skinXDEventReg()}skinXDEventReg(){}lwgOnDisable(){this.skinXDOnDisable()}skinXDOnDisable(){}lwgOnUpdate(){this.skinXDOnUpdate()}skinXDOnUpdate(){}}}(S=e.SkinXD||(e.SkinXD={})),function(e){let t,a,n;e._skinClassArr=[],e._headSkinArr=[],e._currentHead={get name(){return Laya.LocalStorage.getItem("Skin_currentHead")?Laya.LocalStorage.getItem("Skin_currentHead"):null},set name(e){Laya.LocalStorage.setItem("Skin_currentHead",e)}},e._eyeSkinArr=[],e._currentEye={get name(){return Laya.LocalStorage.getItem("Skin_currentEye")?Laya.LocalStorage.getItem("Skin_currentEye"):null},set name(e){Laya.LocalStorage.setItem("Skin_currentEye",e)}},function(e){e.head="head",e.eye="eye",e.body="body",e.upperBody="upperBody",e.lowerBody="lowerBody"}(t=e.SkinClass||(e.SkinClass={})),function(e){e.name="name",e.getway="getway",e.condition="condition",e.resCondition="resCondition",e.arrange="arrange",e.getOder="getOder",e.classify="classify",e.have="have"}(a=e.SkinProperty||(e.SkinProperty={})),function(e){e.purchase="purchase",e.select="select"}(n=e.EventType||(e.EventType={}));e.SkinScene=class extends s.Scene{lwgOnAwake(){this.initData(),this.skinOnAwake()}initData(){e._SkinTap=this.self.SkinTap,e._SkinList=this.self.SkinList,e._skinClassArr=[e._eyeSkinArr,e._headSkinArr]}lwgEventReg(){this.skinEventReg()}skinEventReg(){}skinOnAwake(){}lwgNodeDec(){this.skinNodeDec()}skinNodeDec(){}lwgOnEnable(){this.skinList_Create(),this.skinTap_Create(),this.skinOnEnable()}skinOnEnable(){}lwgOpenAni(){return this.skinOpenAin()}skinOpenAin(){return 0}lwgBtnClick(){this.skinBtnClick()}skinBtnClick(){}skinTap_Create(){e._SkinTap.selectHandler=new Laya.Handler(this,this.skinTap_Select)}skinTap_Select(e){}skinList_Create(){e._SkinList.selectEnable=!0,e._SkinList.selectHandler=new Laya.Handler(this,this.skinList_Scelet),e._SkinList.renderHandler=new Laya.Handler(this,this.skinList_Update),this.skinList_refresh()}skinList_Scelet(e){}skinList_Update(e,t){}skinList_refresh(){e._SkinList&&e._skinClassArr.length>0&&(e._SkinList.array=e._skinClassArr[0],e._SkinList.refresh())}lwgOnDisable(){this.skinOnDisable()}skinOnDisable(){}}}(k=e.Skin||(e.Skin={})),function(e){let t;e.lodingList_3DScene=[],e.lodingList_3DPrefab=[],e.lodingList_3DMesh=[],e.lodingList_3DBaseMaterial=[],e.lodingList_3DTexture2D=[],e.lodingList_2D=[],e.lodingList_Json=[],e.sumProgress=0,e.currentProgress={val:0,get value(){return this.val},set value(t){if(this.val=t,this.val>=e.sumProgress)console.log("当前进度条进度为:",e.currentProgress.value/e.sumProgress),console.log("进度条停止！"),console.log('所有资源加载完成！此时所有资源可通过例如 Laya.loader.getRes("Data/levelsData.json")获取'),a.notify(e.LodingType.complete);else{let t=0;for(let a=0;a<=e.loadOrderIndex;a++)t+=e.loadOrder[a].length;this.val===t&&e.loadOrderIndex++,a.notify(e.LodingType.loding)}}},function(e){e.complete="complete",e.loding="loding",e.progress="progress"}(t=e.LodingType||(e.LodingType={}));e.LodeScene=class extends s.Scene{lwgOnAwake(){this.subpackages(),this.lodingResList()}subpackages(){}lodingResList(){}lwgEventReg(){a.reg(t.loding,this,()=>{this.lodingRule()}),a.reg(t.complete,this,()=>{this.lodingComplete(),this.lwgInterior(),this.lodingTaskEventReg()}),a.reg(t.progress,this,t=>{e.currentProgress.value++,e.currentProgress.value<e.sumProgress&&(console.log("当前进度条进度为:",e.currentProgress.value/e.sumProgress),this.lodingPhaseComplete())})}lwgOnEnable(){e.loadOrder=[e.lodingList_2D,e.lodingList_3DScene,e.lodingList_3DPrefab,e.lodingList_Json];for(let t=0;t<e.loadOrder.length;t++)e.sumProgress+=e.loadOrder[t].length,e.loadOrder[t].length<=0&&(e.loadOrder.splice(t,1),t--);e.loadOrderIndex=0,a.notify(e.LodingType.loding)}lodingRule(){if(e.loadOrder.length<=0)return void console.log("没有加载项");let n=0;for(let t=0;t<e.loadOrderIndex;t++)n+=e.loadOrder[t].length;let i=e.currentProgress.value-n;switch(e.loadOrder[e.loadOrderIndex]){case e.lodingList_2D:Laya.loader.load(e.lodingList_2D[i],Laya.Handler.create(this,n=>{null==n?console.log("XXXXXXXXXXX2D资源"+e.lodingList_2D[i]+"加载失败！不会停止加载进程！","数组下标为：",i,"XXXXXXXXXXX"):console.log("2D资源"+e.lodingList_2D[i]+"加载完成！","数组下标为：",i),a.notify(t.progress)}));break;case e.lodingList_3DScene:Laya.Scene3D.load(e.lodingList_3DScene[i],Laya.Handler.create(this,n=>{null==n?console.log("XXXXXXXXXXX3D场景"+e.lodingList_3DScene[i]+"加载失败！不会停止加载进程！","数组下标为：",i,"XXXXXXXXXXX"):console.log("3D场景"+e.lodingList_3DScene[i]+"加载完成！","数组下标为：",i),a.notify(t.progress)}));break;case e.lodingList_3DPrefab:Laya.Sprite3D.load(e.lodingList_3DPrefab[i],Laya.Handler.create(this,n=>{null==n?console.log("XXXXXXXXXXX3D预设体"+e.lodingList_3DPrefab[i]+"加载失败！不会停止加载进程！","数组下标为：",i,"XXXXXXXXXXX"):console.log("3D场景"+e.lodingList_3DPrefab[i]+"加载完成！","数组下标为：",i),a.notify(t.progress)}));break;case e.lodingList_Json:Laya.loader.load(e.lodingList_Json[i],Laya.Handler.create(this,n=>{null==n?console.log("XXXXXXXXXXX数据表"+e.lodingList_Json[i]+"加载失败！不会停止加载进程！","数组下标为：",i,"XXXXXXXXXXX"):console.log("数据表"+e.lodingList_Json[i]+"加载完成！","数组下标为：",i),a.notify(t.progress)}),null,Laya.Loader.JSON)}}lodingPhaseComplete(){}lwgInterior(){}lodingTaskEventReg(){}lodingComplete(){}}}(L=e.Loding||(e.Loding={}))}(e||(e={}));let t=e.Admin,a=e.Gold,n=e.Click,i=e.EventAdmin,s=e.Tools,o=e.Effects,l=e.PalyAudio,r=e.Setting,c=e.Dialog,h=e.Animation2D,d=e.Animation3D,g=e.Loding,u=(e.Loding.LodeScene,e.Shop),p=(e.Shop.ShopScene,e.Task),y=(e.Task.TaskScene,e.VictoryBox),m=(e.VictoryBox.VictoryBoxScene,e.CheckIn),f=(e.CheckIn.CheckInScene,e.SkinXD),S=(e.SkinXD.SkinXDScene,e.Skin),k=e.Skin.SkinScene;var L,_,w;!function(e){function getProperty(e,t,a){let n=null,i=getClassify(e);for(let e=0;e<i.length;e++){const s=i[e];if(s.name===t){n=s[a];break}}return null!==n?n:(console.log(t+"找不到属性:"+a,n),null)}function setProperty(e,t,a,n){let i=getClassify(e);for(let e=0;e<i.length;e++){const s=i[e];if(s.name===t){s[a]=n;break}}let s={};s[e]=i,Laya.LocalStorage.setJSON(e,JSON.stringify(s))}function getClassify(t){let a=[];switch(t){case i.EasterEgg_01:a=e._easterEgg_1Arr}return a}let a,n,i,o,l;e._easterEgg_1Arr=[],e._easterEgg_1={get value(){return!!Laya.LocalStorage.getItem("_easterEgg_01")},set value(e){Laya.LocalStorage.setItem("_easterEgg_01",e.toString())}},e.initEasterEgg=function(){e._easterEgg_1Arr=s.dataCompare("GameData/EasterEgg/EasterEgg.json",i.EasterEgg_01,n.name),Laya.loader.getRes("GameData/EasterEgg/EasterEgg.json").RECORDS},e.getProperty=getProperty,e.setProperty=setProperty,e.getTaskProperty=function(e,t,a){let n=null,i=getClassify(e);for(let e=0;e<i.length;e++){const s=i[e];if(s.name===t){n=s[a];break}}return null!==n?n:(console.log(t+"找不到属性:"+a,n),null)},e.getClassify=getClassify,e.doDetection=function(e,t,a){a||(a=0);let i=getProperty(e,t,n.resCondition),s=getProperty(e,t,n.condition);return getProperty(e,t,n.complete)?1:s<=i+a?(setProperty(e,t,n.resCondition,s),setProperty(e,t,n.complete,!0),console.log(getProperty(e,t,n.complete)),1):(setProperty(e,t,n.resCondition,i+a),0)},e.detectAllTasks=function(e){let t=1,a=getClassify(e);for(const i in a)if(a.hasOwnProperty(i)){const s=a[i];let o=getProperty(e,s.name,n.resCondition);getProperty(e,s.name,n.condition)>o&&(t=0)}return 1==t?console.log(e,"完成了！"):console.log(e,"没有完成！"),t},function(e){e.gold="gold",e.diamond="diamond",e.assembly="assembly"}(a=e.rewardType||(e.rewardType={})),function(e){e.name="name",e.explain="explain",e.condition="condition",e.resCondition="resCondition",e.complete="complete"}(n=e.Property||(e.Property={})),function(e){e.EasterEgg_01="EasterEgg_01"}(i=e.Classify||(e.Classify={})),function(e){e.assembly_1="assembly_1",e.assembly_2="assembly_2",e.assembly_3="assembly_3",e.assembly_4="assembly_4",e.assembly_5="assembly_5"}(o=e.Name||(e.Name={})),function(e){e.trigger="trigger",e.easterEggAds="easterEggAds"}(l=e.EventType||(e.EventType={}));e.EasterEggScene=class extends t.Scene{lwgOnAwake(){this.easterEggInitData(),this.easterEggOnAwake()}easterEggInitData(){}lwgEventReg(){this.easterEggEventReg()}easterEggEventReg(){}easterEggOnAwake(){}lwgNodeDec(){this.easterEggNodeDec()}easterEggNodeDec(){}lwgOnEnable(){this.easterEggOnEnable()}easterEggOnEnable(){}lwgOpenAni(){return this.easterEggOpenAin()}easterEggOpenAin(){return 0}lwgBtnClick(){this.easterEggBtnClick()}easterEggBtnClick(){}lwgOnUpdate(){this.easterEggOnUpdate()}easterEggOnUpdate(){}lwgOnDisable(){this.easterEggOnDisable()}easterEggOnDisable(){}}}(L||(L={}));class v{constructor(){}static ShowBanner(){let e=new TJ.ADS.Param;e.place=TJ.ADS.Place.BOTTOM|TJ.ADS.Place.CENTER,TJ.ADS.Api.ShowBanner(e)}static CloseBanner(){let e=new TJ.ADS.Param;e.place=TJ.ADS.Place.BOTTOM|TJ.ADS.Place.CENTER,TJ.ADS.Api.RemoveBanner(e)}static ShowNormal(){TJ.API.AdService.ShowNormal(new TJ.API.AdService.Param)}static showNormal2(){TJ.API.AdService.ShowNormal(new TJ.API.AdService.Param)}static ShowReward(e,t=500){if(v.CanShowCD){l.stopMusic(),console.log("?????");let a=new TJ.ADS.Param;a.extraAd=!0;let n=!1;a.cbi.Add(TJ.Define.Event.Reward,()=>{n=!0,l.playMusic(l.voiceUrl.bgm,0,1e3),null!=e&&(e(),i.notify(p.EventType.adsTime),i.notify(L.EventType.easterEggAds))}),a.cbi.Add(TJ.Define.Event.Close,()=>{n||(l.playMusic(l.voiceUrl.bgm,0,1e3),c.createHint_Middle(c.HintContent["观看完整广告才能获取奖励哦！"]))}),a.cbi.Add(TJ.Define.Event.NoAds,()=>{l.playMusic(l.voiceUrl.bgm,0,1e3),c.createHint_Middle(c.HintContent["暂时没有广告，过会儿再试试吧！"])}),TJ.ADS.Api.ShowReward(a),v.CanShowCD=!1,setTimeout(()=>{v.CanShowCD=!0},t)}}static Event(e,t){console.log("Param:>"+e+"Value:>"+t);let a=new TJ.GSA.Param;a.id=null==t?e:e+t,console.log(a.id),TJ.GSA.Api.Event(a)}static initShare(){TJ.API.AppInfo.Channel()==TJ.Define.Channel.AppRt.WX_AppRt&&(this.wx.onShareAppMessage(()=>({title:this.shareContent,imageUrl:this.shareImgUrl,query:""})),this.wx.showShareMenu({withShareTicket:!0,success:null,fail:null,complete:null}))}static lureShare(){TJ.API.AppInfo.Channel()==TJ.Define.Channel.AppRt.WX_AppRt&&this.wx.shareAppMessage({title:this.shareContent,imageUrl:this.shareImgUrl,query:""})}static VibrateShort(){TJ.API.Vibrate.Short()}static Vibratelong(){TJ.API.Vibrate.Long()}static TAPoint(e,t){let a=new TJ.API.TA.Param;switch(a.id=t,e){case _.BtnShow:TJ.API.TA.Event_Button_Show(a);break;case _.BtnClick:TJ.API.TA.Event_Button_Click(a);break;case _.PageShow:TJ.API.TA.Event_Page_Show(a);break;case _.PageEnter:TJ.API.TA.Event_Page_Enter(a);break;case _.PageLeave:TJ.API.TA.Event_Page_Leave(a);break;case _.LevelStart:TJ.API.TA.Event_Level_Start(a),console.log("本关开始打点");break;case _.LevelFail:TJ.API.TA.Event_Level_Fail(a),console.log("本关失败打点");break;case _.LevelFinish:TJ.API.TA.Event_Level_Finish(a),console.log("本关胜利打点")}}}v.CanShowCD=!0,v.wx=Laya.Browser.window.wx,v.shareImgUrl="http://image.tomatojoy.cn/6847506204006681a5d5fa0cd91ce408",v.shareContent="快把锅甩给队友！",function(e){e[e.BtnShow=0]="BtnShow",e[e.BtnClick=1]="BtnClick",e[e.PageShow=2]="PageShow",e[e.PageEnter=3]="PageEnter",e[e.PageLeave=4]="PageLeave",e[e.LevelStart=5]="LevelStart",e[e.LevelFinish=6]="LevelFinish",e[e.LevelFail=7]="LevelFail"}(_||(_={}));class T extends m.CheckInScene{checkInNodeDec(){m._lastCheckDate.date==(new Date).getDate()&&(this.self.BtnTenGet.visible=!1,this.self.BtnGet.visible=!1,this.self.Select.visible=!1)}checkInOnEnable(){r.setBtnVinish(),this.self.BtnSeven.getChildByName("ChinkTip").visible=!1}checkList_Update(e,t){let a=e.dataSource,n=e.getChildByName("Pic_Board"),i=e.getChildByName("Pic_Gold"),s=e.getChildByName("Num"),o=e.getChildByName("ChinkTip"),l=e.getChildByName("DayNum");switch(a[m.CheckProPerty.checkInState]?(i.visible=!1,s.visible=!1,o.visible=!0,n.skin="UI/Common/kuang1.png"):(i.visible=!0,s.visible=!0,s.text=a[m.CheckProPerty.rewardNum],o.visible=!1,n.skin="UI/Common/kuang2.png"),a[m.CheckProPerty.name]){case"day1":l.text="第一天";break;case"day2":l.text="第二天";break;case"day3":l.text="第三天";break;case"day4":l.text="第四天";break;case"day5":l.text="第五天";break;case"day6":l.text="第六天";break;case"day7":l.text="第七天"}}checkInBtnClick(){e.Click.on("largen",this.self.BtnGet,this,null,null,this.btnGetUp,null),e.Click.on("largen",this.self.BtnTenGet,this,null,null,this.btnTenGetUp,null),e.Click.on(n.Type.noEffect,this.self.BtnSelect,this,null,null,this.btnSelectUp,null),e.Click.on("largen",this.self.BtnBack,this,null,null,this.btnBackUp,null)}btnOffClick(){e.Click.off("largen",this.self.BtnGet,this,null,null,this.btnGetUp,null),e.Click.off("largen",this.self.BtnTenGet,this,null,null,this.btnTenGetUp,null),e.Click.off(n.Type.noEffect,this.self.BtnSelect,this,null,null,this.btnSelectUp,null),e.Click.off("largen",this.self.BtnBack,this,null,null,this.btnBackUp,null)}btnTenGetUp(){v.ShowReward(()=>{this.btnGetUpFunc(3)})}btnBackUp(e){this.self.close()}btnGetUp(e){this.btnGetUpFunc(1)}btnGetUpFunc(e){this.btnOffClick();let t,n=m._checkInNum.number;t=n<6?m._checkList.getCell(n):this.self.BtnSeven,h.swell_shrink(t,1,1.1,100,0,()=>{let t=[[111,191],[296,191],[486,191],[111,394],[296,394],[486,394],[306,597]];o.createExplosion_Rotate(this.self.SceneContent,25,t[n][0],t[n][1],"star",10,15);let i=m.todayCheckIn_7Days();if(7===m._checkInNum.number){this.self.BtnSeven.getChildByName("ChinkTip").visible=!0,this.self.BtnSeven.getChildByName("Num").visible=!1,this.self.BtnSeven.getChildByName("Pic_Gold").visible=!1,this.self.BtnSeven.skin="UI/Common/kuang1.png"}a.getGoldAni_Heap(Laya.stage,15,88,69,"UI/GameStart/qian.png",new Laya.Point(Laya.stage.width/2,Laya.stage.height/2),new Laya.Point(a.GoldNode.x-80,a.GoldNode.y),null,()=>{a.addGold(i*e),this.self.close()})})}btnSelectUp(){this.self.Dot.visible?this.self.Dot.visible=!1:this.self.Dot.visible=!0}checkInOnUpdate(){m._lastCheckDate.date!==(new Date).getDate()&&(this.self.Dot.visible?(this.self.BtnGet.visible=!1,this.self.BtnTenGet.visible=!0):(this.self.BtnGet.visible=!0,this.self.BtnTenGet.visible=!1))}checkInOnDisable(){r.setBtnAppear()}}!function(e){function getLevelData(t){let a,n,i=Laya.loader.getRes("GameData/Game/GameLevel.json").RECORDS;n=t||e._gameLevel.value;for(let e=0;e<i.length;e++){const t=i[e];if(t.name==="level"+n){a=t;break}}return a||i[n-1]}let a,n;e._gameSwitch=!1,e._gameLevel={get value(){return Laya.LocalStorage.getItem("_gameLevel")?Number(Laya.LocalStorage.getItem("_gameLevel")):1},set value(e){Laya.LocalStorage.setItem("_gameLevel",e.toString())}},e._practicalLevel={get value(){return Laya.LocalStorage.getItem("_practicalLevel")?Number(Laya.LocalStorage.getItem("_practicalLevel")):e._gameLevel.value},set value(e){Laya.LocalStorage.setItem("_practicalLevel",e.toString())}},e.getLevelData=getLevelData,e.getLevelData_Condition=function(t){let a,n=getLevelData(t||e._gameLevel.value);for(const e in n)n.hasOwnProperty(e)&&"condition"===e&&(a=n[e]);if(a)return a;console.log("获取关卡描述失败")},function(e){e.name="name",e.condition="condition",e.resCondition="resCondition",e.rewardType="rewardType",e.rewardNum="rewardNum"}(a=e.gameProperty||(e.gameProperty={})),function(e){e.gold="gold",e.diamond="diamond"}(n=e.rewardType||(e.rewardType={})),e._createLevel=function(t,a,n){let i;Laya.loader.load("prefab/LevelNode.json",Laya.Handler.create(this,function(s){let o=new Laya.Prefab;o.json=s,i=Laya.Pool.getItemByCreateFun("prefab",o.create,o),t.addChild(i),i.pos(a,n),i.zOrder=0,i.getChildByName("level"),e.LevelNode=i}))},e._execution={get value(){return this.val=Laya.LocalStorage.getItem("_execution")?Number(Laya.LocalStorage.getItem("_execution")):15},set value(e){this.val=e,Laya.LocalStorage.setItem("_execution",e.toString())}};e.GameScene=class extends t.Scene{lwgOnAwake(){this.initData(),this.gameOnAwake()}initData(){}lwgEventReg(){this.gameEventReg()}gameEventReg(){}gameOnAwake(){}lwgNodeDec(){this.gameNodeDec()}gameNodeDec(){}lwgOnEnable(){this.gameOnEnable()}gameOnEnable(){}lwgOpenAni(){return this.gameOpenAin()}gameOpenAin(){return 0}lwgBtnClick(){this.gameBtnClick()}gameBtnClick(){}lwgOnDisable(){this.gameOnDisable()}gameOnDisable(){}}}(w||(w={}));let C=w;w.GameScene;class b extends e.Admin.Scene{lwgNodeDec(){this.self.BtnAdv.visible=!0,this.self.BtnAgain.visible=!1,this.self.Dot.visible=!0}lwgOnEnable(){r.setBtnAppear(),l.playDefeatedSound()}lwgBtnClick(){n.on(n.Type.largen,this.self.BtnAgain,this,null,null,this.btnAgainUp,null),n.on(n.Type.largen,this.self.BtnNext,this,null,null,this.btnNextUp,null),n.on(n.Type.largen,this.self.BtnSelect,this,null,null,this.btnSelectUp,null)}btnSelectUp(){this.self.Dot.visible?(this.self.Dot.visible=!1,this.self.BtnAdv.visible=!1,this.self.BtnAgain.visible=!0):(this.self.Dot.visible=!0,this.self.BtnAdv.visible=!0,this.self.BtnAgain.visible=!1)}btnAgainUp(){console.log("重新开始！"),i.notify(i.EventType.scene3DRefresh),t._openScene(t.SceneName.UIOperation,null,this.self)}btnNextUp(){v.ShowReward(()=>{i.notify(i.EventType.scene3DRefresh),C._gameLevel.value+=1,t._openScene(t.SceneName.UIStart,null,this.self)})}lwgOnDisable(){r.setBtnVinish()}}class B extends L.EasterEggScene{constructor(){super(...arguments),this.clickNum=0,this.clickSwitch=!1,this.clickTime=0}easterEggOnAwake(){r.setBtnVinish(),a.goldVinish(),this.initDisplay(),L._easterEgg_1.value=!0}initDisplay(){for(let e=0;e<L._easterEgg_1Arr.length;e++){const a=L._easterEgg_1Arr[e];let i="Complete"+(e+1),s=L.getProperty(L.Classify.EasterEgg_01,a.name,L.Property.complete);this.self[i].skin=s?"UI/EasterEgg_Aotoman/Task/wancheng.png":"UI/EasterEgg_Aotoman/Task/wancheng2.png";let o="Assembly"+(e+1),l=this.self[o].getChildByName("Num");if(l){let e=L.getProperty(L.Classify.EasterEgg_01,a.name,L.Property.condition),t=L.getProperty(L.Classify.EasterEgg_01,a.name,L.Property.resCondition);l.text=t+"/"+e}switch(e){case 0:1!==s&&n.on(n.Type.largen,this.self.BtnGoUp,this,null,null,()=>{t._openScene(t.SceneName.UISkinXD,null,this.self)});break;case 3:break;case 4:1!==s&&(n.on(n.Type.largen,this.self.BtnHint,this,null,null,()=>{v.ShowReward(()=>{this.self.DialogHint.x=0})}),n.on(n.Type.largen,this.self.BtnConfirm,this,null,null,()=>{this.self.DialogHint.x=-800}))}}}easterEggBtnClick(){n.on(n.Type.largen,this.self.BtnBack,this,null,null,()=>{this.self.close()}),n.on(n.Type.largen,this.self.BtnAotuman,this,null,null,()=>{this.clickNum++,this.clickSwitch=!0}),n.on(n.Type.largen,this.self.BtnInject,this,null,null,()=>{this.self.close()}),n.on(n.Type.largen,this.self.BtnAssembly4No,this,null,null,()=>{this.self.DialogAssembly4.x=800}),n.on(n.Type.largen,this.self.BtnAssembly4Yes,this,null,null,()=>{v.ShowReward(()=>{this.self.DialogAssembly4.x=0})})}clickStraight(){this.clickSwitch?(this.clickTime++,this.clickTime>=60?(this.clickSwitch=!1,this.clickNum=0):this.clickNum>=5&&(this.self.DialogAssembly4.x=0,this.clickSwitch=!1,this.clickNum=0)):this.clickTime=0}easterEggOnUpdate(){this.clickStraight()}easterEggOnDisable(){r.setBtnAppear(),a.goldAppear(),i.notify(L.EventType.trigger)}}var P;!function(e){let t,a,n;!function(e){let t,a,n;!function(e){e.HairParent="HairParent",e.LeftBeard="LeftBeard",e.RightBeard="RightBeard",e.MiddleBeard="MiddleBeard",e.UpLeftBeard="UpLeftBeard",e.UpRightBeard="UpRightBeard",e.movePhotoLocation="movePhotoLocation"}(t=e.TaskType||(e.TaskType={})),function(e){e.move="move"}(a=e.RazorState||(e.RazorState={})),function(e){e.HairParent="HairParent",e.LeftBeard="LeftBeard",e.RightBeard="RightBeard",e.MiddleBeard="MiddleBeard",e.UpLeftBeard="UpLeftBeard",e.UpRightBeard="UpRightBeard",e.taskProgress="taskProgress",e.cameraMove="cameraMove",e.changeProp="changeProp",e.changeOther="changeOther",e.changeHeadDecoration=" changeHeadDecoration",e.changeEyeDecoration=" changeEyeDecoration",e.changeTrySkin="changeTrySkin"}(n=e.EventType||(e.EventType={}))}(t=e.GEnum||(e.GEnum={})),function(e){e._firstTask=null,e._stageClick=!1,e._taskArr=[],e._taskNum=0}(a=e.GVariate||(e.GVariate={})),function(e){e.LevelFpos=new Laya.Vector3,e.razorFPos=new Laya.Vector3,e.knifeParentFPos=new Laya.Vector3,e.headFPos=new Laya.Vector3}(n=e.GSene3D||(e.GSene3D={}))}(P||(P={}));let D=P.GVariate,E=P.GEnum,A=P.GSene3D;class N extends e.Admin.Object3D{onTriggerEnter(t){if(!e.Admin._gameStart)return;let a=t.owner,n=a.parent;switch(a.name){case"Hairline":let t=2*n.transform.localScaleY*a.transform.localScaleY,s=e.Tools.dotRotateXY(n.transform.position.x,n.transform.position.y,n.transform.position.x,n.transform.position.y+t,n.transform.localRotationEulerZ).y-n.transform.position.y,o=s-Math.abs(this.selfTransform.position.y-this.self.transform.localScaleY/2-n.transform.position.y),l=o/s;if(n.transform.localScaleY-=n.transform.localScaleY*l,n.HairLen&&(n.HairLen.setValue=n.transform.localScaleY),1===Math.floor(4*Math.random())&&o>=.01){let e=n.clone();e.transform.localScaleY=e.transform.localScaleY*l;let t=A.Level.getChildByName("CutHairParent");e.name="cutHair",t.addChild(e),e.transform.position=this.self.transform.position;let a=e.getChildAt(0);a.name="cutHairline";let i=a.getComponent(Laya.Rigidbody3D);i.isKinematic=!1,i.isTrigger=!0,i.gravity=new Laya.Vector3(0,-20,0),i.rollingFriction=0,i.restitution=0,Laya.timer.once(3e3,this,t=>{e.removeSelf()})}break;case"standard":console.log("碰到线了，游戏失败！"),i.notify(i.EventType.resurgence)}}}class x extends e.Admin.Object3D{lwgOnEnable(){this.RazorState=E.RazorState.move,this.self.getChildByName("Blade").addComponent(N)}}class O extends e.Admin.Object3D{lwgOnEnable(){this.rig3D.restitution=0}onTriggerEnter(e){let t=e.owner;switch(t.name){case"Beard":break;case"cutHairline":t.parent.removeSelf()}}}class U extends e.Admin.Object3D{onTriggerEnter(e){let t=e.owner,a=t.parent;switch(t.name.substring(0,5)){case"Beard":if(t.already)return;t.already=!0,"RightBeard"===a.name?i.notify(E.EventType.RightBeard):"LeftBeard"===a.name?i.notify(E.EventType.LeftBeard):"MiddleBeard"===a.name?i.notify(E.EventType.MiddleBeard):"UpRightBeard"===a.name?i.notify(E.EventType.UpRightBeard):"UpLeftBeard"===a.name&&i.notify(E.EventType.UpLeftBeard),e.isKinematic=!1,e.isTrigger=!1,e.linearVelocity=new Laya.Vector3(0,-3,0)}}}class I extends e.Admin.Scene3D{constructor(){super(),this.moveSpeed=1e3}lwgOnAwake(){A.GameMain3D=this.self,A.MainCamera=this.MainCamera,A.PhotoCameraMark=this.self.getChildByName("PhotoCameraMark"),A.LevelParent_Mark=this.self.getChildByName("LevelParent_Mark"),A.LevelParent=Laya.loader.getRes("3DPrefab/LayaScene_SampleScene/Conventional/LevelParent.lh"),this.self.addChild(A.LevelParent),A.LevelParent.transform.position=A.LevelParent_Mark.transform.position;for(let e=0;e<A.LevelParent.numChildren;e++){A.LevelParent.getChildAt(e).active=!1}A.Landmark_Side=this.self.getChildByName("Landmark_Side"),A.Landmark_Right=this.self.getChildByName("Landmark_Right"),A.Landmark_Middle=this.self.getChildByName("Landmark_Middle"),A.Landmark_Left=this.self.getChildByName("Landmark_Left"),A.Landmark_UpRight=this.self.getChildByName("Landmark_UpRight"),A.Landmark_UpLeft=this.self.getChildByName("Landmark_UpLeft"),A.LeftSignknife=this.self.getChildByName("LeftSignknife"),A.MiddleSignknife=this.self.getChildByName("MiddleSignknife"),A.RightSignknife=this.self.getChildByName("RightSignknife"),A.UpRightKnife=this.self.getChildByName("UpRightKnife"),A.UpLeftKnife=this.self.getChildByName("UpLeftKnife"),A.Floor=this.self.getChildByName("Floor"),A.Razor=this.self.getChildByName("Razor"),A.razorFPos.x=A.Razor.transform.position.x,A.razorFPos.y=A.Razor.transform.position.y,A.razorFPos.z=A.Razor.transform.position.z,A.knifeParent=this.self.getChildByName("knifeParent"),A.knife=A.knifeParent.getChildByName("tixudao"),A.Role=this.self.getChildByName("Role"),A.TouchScreen=this.self.getChildByName("TouchScreen"),A.Headcollision=A.Role.getChildByName("Headcollision"),A.Headcollision.getComponent(Laya.Rigidbody3D).restitution=0,A.HeadSimulate=A.Role.getChildByName("HeadSimulate"),A.HingeMiddle=A.Headcollision.getChildByName("HingeMiddle"),A.HingeUp=A.Headcollision.getChildByName("HingeUp"),A.HingeDown=A.Headcollision.getChildByName("HingeDown"),A.HeadDecoration=this.self.getChildByName("HeadDecoration"),A.EyeDecoration=this.self.getChildByName("EyeDecoration"),A.DressUpMark=this.self.getChildByName("DressUpMark")}lwgEventReg(){i.reg(i.EventType.scene3DRefresh,this,()=>{this.getLevelContent()}),i.reg(E.EventType.cameraMove,this,e=>{this.cameraMove(e)}),i.reg(i.EventType.scene3DResurgence,this,()=>{A.Razor.transform.position=A.razorFPos}),i.reg(E.EventType.changeEyeDecoration,this,()=>{console.log("换眼部装饰");for(let e=0;e<A.EyeDecoration.numChildren;e++){const t=A.EyeDecoration.getChildAt(e);t.name==S._currentEye.name?t.active=!0:t.active=!1}}),i.reg(E.EventType.changeProp,this,()=>{let e;console.log("换理发刀");for(let t=0;t<A.Razor.numChildren;t++){const a=A.Razor.getChildAt(t);"Blade"!==a.name&&(a.name!==u._currentProp.name?a.active=!1:(e=a.name,a.active=!0))}e||(A.Razor.getChildByName("jiandao").active=!0)}),i.reg(E.EventType.changeOther,this,()=>{for(let e=0;e<A.knifeParent.numChildren;e++){const t=A.knifeParent.getChildAt(e);if(t.name==u._currentOther.name){t.active=!0,A.knife=t,A.knife.getComponent(U)||A.knife.addComponent(U)}else t.active=!1}A.knife.active=!1}),i.reg(E.EventType.changeHeadDecoration,this,()=>{for(let e=0;e<A.HeadDecoration.numChildren;e++){const t=A.HeadDecoration.getChildAt(e);t.name==S._currentHead.name?t.active=!0:t.active=!1}}),i.reg(E.EventType.changeEyeDecoration,this,()=>{console.log("换眼部装饰");for(let e=0;e<A.EyeDecoration.numChildren;e++){const t=A.EyeDecoration.getChildAt(e);t.name==S._currentEye.name?t.active=!0:t.active=!1}}),i.reg(E.EventType.changeTrySkin,this,(e,t)=>{let a;console.log(e,t),e==u.GoodsClass.Other?a=A.knifeParent:e==u.GoodsClass.Props&&(a=A.Razor),a.active=!0;for(let n=0;n<a.numChildren;n++){const i=a.getChildAt(n);i.name==t?(i.active=!0,e==u.GoodsClass.Other?A.knife=i:e==u.GoodsClass.Props&&(a=A.Razor)):"Blade"!==i.name&&(i.active=!1)}})}lwgOnEnable(){A.Floor.addComponent(O),A.Razor.addComponent(x),i.notify(E.EventType.changeProp),i.notify(E.EventType.changeOther),this.getLevelContent()}getLevelContent(){A.Level&&A.Level.removeSelf(),A.LevelParent.active=!0;let e,t=A.LevelParent.clone();if(this.self.addChild(t),A.LevelParent.active=!1,console.log(C._gameLevel.value),e=C._gameLevel.value>10?C._gameLevel.value%10+1:C._gameLevel.value,A.Level=t.getChildByName("Level"+e),A.Level){A.Level.active=!0,D._taskArr=[];for(let e=0;e<A.Level.numChildren;e++){const t=A.Level.getChildAt(e);"CutHairParent"!==t.name&&"StandardParent"!==t.name&&"RoleObj"!==t.name&&D._taskArr.push(t.name)}A.HairParent=A.Level.getChildByName("HairParent"),A.LeftBeard=A.Level.getChildByName("LeftBeard"),A.RightBeard=A.Level.getChildByName("RightBeard"),A.MiddleBeard=A.Level.getChildByName("MiddleBeard"),A.UpRightBeard=A.Level.getChildByName("UpRightBeard"),A.UpLeftBeard=A.Level.getChildByName("UpLeftBeard"),A.StandardParent=A.Level.getChildByName("StandardParent"),A.Razor.transform.position=A.razorFPos,this.knifeTimeDisplay()}else console.log("本关卡不存在")}knifeTimeDisplay(e){"k"===e?(A.knife.active=!0,A.StandardParent&&(A.StandardParent.active=!1),A.Razor.active=!1):"r"===e?(A.knife.active=!1,A.StandardParent&&(A.StandardParent.active=!0),A.Razor.active=!0,console.log("剃刀出现")):e||(A.knife.active=!1,A.StandardParent&&(A.StandardParent.active=!1),A.Razor.active=!1)}cameraMove(e){switch(console.log("移动方向！",e),e){case E.TaskType.HairParent:d.MoveTo(A.MainCamera,A.Landmark_Side.transform.position,this.moveSpeed,this,null,()=>{t._gameStart=!0,this.knifeTimeDisplay("r")}),d.RotateTo(A.MainCamera,A.Landmark_Side.transform.localRotationEuler,this.moveSpeed,this),d.RotateTo(A.TouchScreen,A.Landmark_Side.transform.localRotationEuler,this.moveSpeed,this);break;case E.TaskType.RightBeard:A.knife.transform.position=A.RightSignknife.transform.position,A.HingeMiddle.transform.position=new Laya.Vector3(A.HingeMiddle.transform.position.x,A.knife.transform.position.y,A.HingeMiddle.transform.position.z),A.knife.transform.lookAt(A.HingeMiddle.transform.position,new Laya.Vector3(0,1,0)),d.MoveTo(A.MainCamera,A.Landmark_Right.transform.position,this.moveSpeed,this,null,()=>{t._gameStart=!0,this.knifeTimeDisplay("k")}),d.RotateTo(A.MainCamera,A.Landmark_Right.transform.localRotationEuler,this.moveSpeed,this),d.RotateTo(A.TouchScreen,A.Landmark_Right.transform.localRotationEuler,this.moveSpeed,this);break;case E.TaskType.LeftBeard:A.knife.transform.position=A.LeftSignknife.transform.position,A.HingeMiddle.transform.position=new Laya.Vector3(A.HingeMiddle.transform.position.x,A.knife.transform.position.y,A.HingeMiddle.transform.position.z),A.knife.transform.lookAt(A.HingeMiddle.transform.position,new Laya.Vector3(0,1,0)),d.MoveTo(A.MainCamera,A.Landmark_Left.transform.position,this.moveSpeed,this,null,()=>{t._gameStart=!0,this.knifeTimeDisplay("k")}),d.RotateTo(A.MainCamera,A.Landmark_Left.transform.localRotationEuler,this.moveSpeed,this),d.RotateTo(A.TouchScreen,A.Landmark_Left.transform.localRotationEuler,this.moveSpeed,this);break;case E.TaskType.MiddleBeard:A.knife.transform.position=A.MiddleSignknife.transform.position,A.HingeMiddle.transform.position=new Laya.Vector3(A.HingeMiddle.transform.position.x,A.knife.transform.position.y,A.HingeMiddle.transform.position.z),A.knife.transform.lookAt(A.HingeMiddle.transform.position,new Laya.Vector3(0,1,0)),d.MoveTo(A.MainCamera,A.Landmark_Middle.transform.position,this.moveSpeed,this,null,()=>{t._gameStart=!0,this.knifeTimeDisplay("k")}),d.RotateTo(A.MainCamera,A.Landmark_Middle.transform.localRotationEuler,this.moveSpeed,this),d.RotateTo(A.TouchScreen,A.Landmark_Middle.transform.localRotationEuler,this.moveSpeed,this);break;case E.TaskType.UpLeftBeard:A.knife.transform.position=A.UpLeftKnife.transform.position,A.knife.transform.lookAt(A.HingeUp.transform.position,new Laya.Vector3(0,1,0));A.knife.getChildAt(0);d.MoveTo(A.MainCamera,A.Landmark_UpLeft.transform.position,this.moveSpeed,this,null,()=>{t._gameStart=!0,this.knifeTimeDisplay("k")});let a=new Laya.Vector3(A.Landmark_UpLeft.transform.localRotationEuler.x,A.Landmark_UpLeft.transform.localRotationEuler.y,A.Landmark_UpLeft.transform.localRotationEuler.z);d.RotateTo(A.MainCamera,a,this.moveSpeed,this),d.RotateTo(A.TouchScreen,a,this.moveSpeed,this);break;case E.TaskType.UpRightBeard:A.knife.transform.position=A.UpRightKnife.transform.position,A.knife.transform.lookAt(A.HingeUp.transform.position,new Laya.Vector3(0,1,0));A.knife.getChildAt(0);d.MoveTo(A.MainCamera,A.Landmark_UpRight.transform.position,this.moveSpeed,this,null,()=>{t._gameStart=!0,this.knifeTimeDisplay("k")}),d.RotateTo(A.MainCamera,A.Landmark_UpRight.transform.localRotationEuler,this.moveSpeed,this),d.RotateTo(A.TouchScreen,A.Landmark_UpRight.transform.localRotationEuler,this.moveSpeed,this);break;case E.TaskType.movePhotoLocation:d.MoveTo(A.MainCamera,A.DressUpMark.transform.position,this.moveSpeed,this,null,()=>{t._gameStart=!0,this.knifeTimeDisplay()});let n=new Laya.Vector3(A.DressUpMark.transform.localRotationEuler.x,A.DressUpMark.transform.localRotationEuler.y,A.DressUpMark.transform.localRotationEuler.z);d.RotateTo(A.MainCamera,n,this.moveSpeed,this),d.RotateTo(A.TouchScreen,n,this.moveSpeed,this)}}}class R extends t.Scene{onEnable(){console.log("开始初始化"),this.gameInit(),this.skinInit(),this.shopInit(),this.taskInit(),this.easterEggInit()}gameInit(){}skinInit(){S._currentEye.name=null,S._currentHead.name=null}shopInit(){u.initShop(),u._currentOther.name||(u._currentOther.name="tixudao"),u._currentProp.name||(u._currentProp.name="jiandao"),u._currentSkin.name||(u._currentSkin.name="anquanmao")}taskInit(){p.initTask(),i.reg(p.EventType.useSkins,p,()=>{let e=u.setUseSkinType(),t=p.TaskName.每日使用5种皮肤,a=p.getTaskProperty(p.TaskClass.everyday,t,p.TaskProperty.resCondition);e>a&&p.doDetectionTask(p.TaskClass.everyday,t,e-a)}),i.reg(p.EventType.victory,p,()=>{let e=p.TaskName.每日服务10位客人;p.doDetectionTask(p.TaskClass.everyday,e,1)}),i.reg(p.EventType.adsTime,p,()=>{let e=p.TaskName.每日观看两个广告;p.doDetectionTask(p.TaskClass.everyday,e,1)}),i.reg(p.EventType.victoryBox,p,()=>{let e=p.TaskName.每日开启10个宝箱;p.doDetectionTask(p.TaskClass.everyday,e,1)})}easterEggInit(){L.initEasterEgg(),i.reg(L.EventType.easterEggAds,p,()=>{L.doDetection(L.Classify.EasterEgg_01,L.Name.assembly_3,1)})}onDisable(){}}class G extends g.LodeScene{constructor(){super(...arguments),this.maskMoveSwitch=!0,this.shearSpeed=5,this.shearSwitch=!0}subpackages(){}lodingResList(){g.lodingList_2D=["res/atlas/Frame/Effects.png","res/atlas/Frame/UI.png","res/atlas/UI/GameStart.png","res/atlas/UI/Common.png","res/atlas/UI/Shop/Skin.png","res/atlas/UI/Shop/Props.png","res/atlas/UI/Shop/Other.png","res/atlas/UI/Shop.png","res/atlas/UI/Skin.png"],g.lodingList_3DScene=["3DScene/LayaScene_SampleScene/Conventional/SampleScene.ls"],g.lodingList_3DPrefab=["3DPrefab/LayaScene_SampleScene/Conventional/LevelParent.lh"],g.lodingList_Json=["GameData/Shop/Other.json","GameData/Shop/Props.json","GameData/Shop/Skin.json","GameData/Task/everydayTask.json","GameData/VictoryBox/VictoryBox.json","GameData/CheckIn/CheckIn.json","GameData/Dialog/Dialog.json","GameData/Game/GameLevel.json","GameData/EasterEgg/EasterEgg.json"]}lodingPhaseComplete(){}lodingComplete(){this.self.Mask.x=0,this.self.Shear.x=this.self.Mask.width,this.self.Per.text="100%",this.maskMoveSwitch=!1;let n=Laya.loader.getRes("3DScene/LayaScene_SampleScene/Conventional/SampleScene.ls");Laya.stage.addChildAt(n,0),t._sceneControl[t.SceneName.GameMain3D]=n,n.addComponent(I),Laya.timer.once(500,this,()=>{a.createGoldNode(Laya.stage),r.createSetBtn(65,104,47,54,"UI/GameStart/shezhi.png",Laya.stage),e.Admin._openScene(e.Admin.SceneName.UIStart,null,this.self)})}lwgInterior(){this.self.addComponent(R)}lwgAdaptive(){this.self.Bg.y=Laya.stage.height/2,this.self.Logo.y=.174*Laya.stage.height,this.self.Progress.y=.827*Laya.stage.height,this.self.FCM.y=.91*Laya.stage.height}lwgOnUpdate(){if(this.maskMoveSwitch&&this.self.Mask.x<-20){this.self.Mask.x+=10,this.self.Shear.x+=10;let e=((-this.self.Mask.width-this.self.Mask.x)/-this.self.Mask.width*100).toString().substring(0,2);this.self.Per.text=e+"%"}this.self.Shear_02.rotation>15?this.self.Shear_02.dir="up":this.self.Shear_02.rotation<=0&&(this.self.Shear_02.dir="down"),"up"===this.self.Shear_02.dir?(this.self.Shear_02.rotation-=this.shearSpeed,this.self.Shear_01.rotation+=this.shearSpeed):"down"===this.self.Shear_02.dir&&(this.self.Shear_02.rotation+=this.shearSpeed,this.self.Shear_01.rotation-=this.shearSpeed)}lwgOnDisable(){e.PalyAudio.playMusic()}}class M extends e.Admin.Scene{constructor(){super(...arguments),this._numZoder=[],this.residueNum=10,this._HairParentNum={index:0,sum:0,switch:!0,value:0,set setValue(e){if(this.value=e,this.switch){console.log("剩余需要修理的头发",this.value);let e,t=[10,10,10,10,20,10,20,10,26,28];t[e=C._gameLevel.value>10?C._gameLevel.value%10+1-1:C._gameLevel.value-1]||(e=0),this.value<=t[e]&&(this.switch=!1,console.log("任务完成了！"),i.notify(i.EventType.taskReach))}i.notify(E.EventType.taskProgress)}},this._leftBeardNum={index:0,sum:0,switch:!0,value:0,set setValue(e){this.value=e,this.switch&&(console.log("剩余左侧胡须",this.value),this.value<=10&&(console.log("任务完成了！"),this.switch=!1,i.notify(i.EventType.taskReach))),i.notify(E.EventType.taskProgress)}},this._rightBeardNum={index:0,sum:0,switch:!0,value:0,set setValue(e){this.value=e,this.switch&&(console.log("剩余剩余右侧胡须",this.value),this.value<=10&&(console.log("任务完成了！"),this.switch=!1,i.notify(i.EventType.taskReach))),i.notify(E.EventType.taskProgress)}},this._middleBeardNum={index:0,sum:0,switch:!0,value:0,set setValue(e){this.value=e,this.switch&&(console.log("剩余中间胡子",this.value),this.value<=10&&(console.log("任务完成了！"),this.switch=!1,i.notify(i.EventType.taskReach))),i.notify(E.EventType.taskProgress)}},this._upRightBeardNum={index:0,sum:0,switch:!0,value:0,set setValue(e){this.value=e,this.switch&&(console.log("剩余右上角",this.value),this.value<=10&&(console.log("任务完成了！"),this.switch=!1,i.notify(i.EventType.taskReach))),i.notify(E.EventType.taskProgress)}},this._upLeftBeardNum={index:0,sum:0,switch:!0,value:0,set setValue(e){this.value=e,this.switch&&(console.log("剩余左上角",this.value),this.value<=10&&(console.log("任务完成了！"),this.switch=!1,i.notify(i.EventType.taskReach))),i.notify(E.EventType.taskProgress)}},this.touchPosX=null,this.touchPosY=null,this.moveSwitch=!1}lwgNodeDec(){this.Rocker=this.self.Rocker,this.TaskBar=this.self.TaskBar,this.BtnLast=this.self.BtnLast}lwgOnAwake(){D._taskNum=0,e.Admin._gameStart=!0,this.createProgress(),i.notify(p.TaskType.useSkins)}lwgOnEnable(){this.BtnLast.visible=!1,this.createTaskContent(),this.mainCameraMove(),c.createVoluntarilyDialogue(150,334,c.UseWhere.scene2,0,2e3,this.self)}lwgEventReg(){i.reg(i.EventType.closeOperation,this,()=>{this.self.close()}),i.reg(i.EventType.taskReach,this,()=>{t._gameStart&&(this.BtnLast.visible=!0)}),i.reg(i.EventType.defeated,this,()=>{t._gameStart&&(t._openScene(t.SceneName.UIDefeated),t._gameStart=!1)}),i.reg(i.EventType.resurgence,this,()=>{t._gameStart&&(t._openScene(t.SceneName.UIResurgence),t._gameStart=!1)}),i.reg(E.EventType.LeftBeard,this,()=>{this._leftBeardNum.setValue=this._leftBeardNum.value-1}),i.reg(E.EventType.RightBeard,this,()=>{this._rightBeardNum.setValue=this._rightBeardNum.value-1}),i.reg(E.EventType.MiddleBeard,this,()=>{this._middleBeardNum.setValue=this._middleBeardNum.value-1}),i.reg(E.EventType.UpRightBeard,this,()=>{this._upRightBeardNum.setValue=this._upRightBeardNum.value-1}),i.reg(E.EventType.UpLeftBeard,this,()=>{this._upLeftBeardNum.setValue=this._upLeftBeardNum.value-1}),i.reg(E.EventType.taskProgress,this,()=>{let e,t,a=this.TaskBar.getChildAt(D._taskNum).getChildByName("Bar");switch(D._taskArr[D._taskNum]){case E.TaskType.HairParent:t=this._HairParentNum.value,e=this._HairParentNum.sum;break;case E.TaskType.LeftBeard:t=this._leftBeardNum.value,e=this._leftBeardNum.sum;break;case E.TaskType.RightBeard:t=this._rightBeardNum.value,e=this._rightBeardNum.sum;break;case E.TaskType.MiddleBeard:t=this._middleBeardNum.value,e=this._middleBeardNum.sum;break;case E.TaskType.UpRightBeard:t=this._upRightBeardNum.value,e=this._upRightBeardNum.sum;break;case E.TaskType.UpLeftBeard:t=this._upLeftBeardNum.value,e=this._upLeftBeardNum.sum}a.mask.x=(e-t)*a.width/e-a.mask.width,a.mask.x>0&&(a.mask.x=0)})}createProgress(){this.TaskBar.removeChildren(0,this.TaskBar.numChildren);for(let e=0;e<D._taskArr.length;e++){const t=Laya.Pool.getItemByCreateFun("TaskPro",this.TaskProgress.create,this.TaskProgress);this.TaskBar.addChild(t),t.pos(100*e,0);let a=t.getChildByName("Bar");a.width=80;let n=new Laya.Sprite;n.loadImage("Frame/UI/ui_orthogon_black.png"),n.renderType="mask",a.mask=n,n.width=a.width+20,n.x=-(a.width+20),n.height=25}this.TaskBar.width=100*D._taskArr.length,this.TaskBar.pivotX=this.TaskBar.width/2,this.TaskBar.x=Laya.stage.width/2}createTaskContent(){for(let e=0;e<D._taskArr.length;e++)switch(D._taskArr[e]){case E.TaskType.HairParent:this._HairParentNum.setValue=A.HairParent.numChildren,this._HairParentNum.sum=A.HairParent.numChildren,this._HairParentNum.index=e,this.monitorHiarLen(),this._numZoder.push(this._HairParentNum);break;case E.TaskType.LeftBeard:this._leftBeardNum.setValue=A.LeftBeard.numChildren,this._leftBeardNum.sum=A.LeftBeard.numChildren,this._leftBeardNum.index=e,this._numZoder.push(this._leftBeardNum);break;case E.TaskType.RightBeard:this._rightBeardNum.setValue=A.RightBeard.numChildren,this._rightBeardNum.sum=A.RightBeard.numChildren,this._rightBeardNum.index=e,this._numZoder.push(this._rightBeardNum);break;case E.TaskType.MiddleBeard:this._middleBeardNum.setValue=A.MiddleBeard.numChildren,this._middleBeardNum.sum=A.MiddleBeard.numChildren,this._middleBeardNum.index=e,this._numZoder.push(this._middleBeardNum);break;case E.TaskType.UpRightBeard:this._upRightBeardNum.setValue=A.UpRightBeard.numChildren,this._upRightBeardNum.sum=A.UpRightBeard.numChildren,this._upRightBeardNum.index=e,this._numZoder.push(this._upRightBeardNum);break;case E.TaskType.UpLeftBeard:this._upLeftBeardNum.setValue=A.UpLeftBeard.numChildren,this._upLeftBeardNum.sum=A.UpLeftBeard.numChildren,this._upLeftBeardNum.index=e,this._numZoder.push(this._upLeftBeardNum)}}monitorHiarLen(){let e=this._HairParentNum;for(let t=0;t<A.HairParent.numChildren;t++){const a=A.HairParent.getChildAt(t);let n=a.transform.localPositionY;a.HairLen={detection:!0,value:n,get getValue(){return this.value},set setValue(t){this.detection&&(t<.19&&(this.detection=!1,e.setValue=e.value-1),this.value=t)}}}}mainCameraMove(){D._taskNum>D._taskArr.length||i.notify(E.EventType.cameraMove,D._taskArr[D._taskNum])}lwgBtnClick(){e.Click.on(n.Type.largen,this.BtnLast,this,null,null,this.btnLastUp,null)}btnLastUp(e){this.BtnLast.visible=!1,this.moveSwitch=!1,e.stopPropagation(),D._taskNum>=D._taskArr.length-1?t._openScene(t.SceneName.UISkin,null,this.self):(D._taskNum++,this.mainCameraMove(),i.notify(E.EventType.taskProgress),this._numZoder[D._taskNum].value<=10&&i.notify(i.EventType.taskReach))}onStageMouseDown(e){this.moveSwitch=!0,this.touchPosX=e.stageX,this.touchPosY=e.stageY;let t=A.MainCamera.getChildByName("MainCamera"),a=s.rayScanning(t,A.GameMain3D,new Laya.Vector2(this.touchPosX,this.touchPosY),A.TouchScreen.name);if(a){let e=A.Headcollision.transform.position.x-A.knife.transform.position.x+a.point.x,t=A.Headcollision.transform.position.y-A.knife.transform.position.y+a.point.y,n=A.Headcollision.transform.position.z-A.knife.transform.position.z+a.point.z;A.HeadSimulate.transform.position=new Laya.Vector3(e,t,n)}}onStageMouseMove(e){if(t._gameStart=!0,this.moveSwitch)switch(D._taskArr[D._taskNum]){case E.TaskType.HairParent:this.razorMove(e);break;case E.TaskType.LeftBeard:case E.TaskType.RightBeard:case E.TaskType.MiddleBeard:case E.TaskType.UpRightBeard:case E.TaskType.UpLeftBeard:this.knifeMove(e)}}razorMove(e){let t=e.stageX-this.touchPosX,a=e.stageY-this.touchPosY;this.Rocker.x+=t,this.Rocker.y+=a,this.touchPosX=e.stageX,this.touchPosY=e.stageY,A.Razor.transform.localPositionX-=.01*t,A.Razor.transform.localPositionY-=.01*a,s.maximumDistanceLimi_3D(A.razorFPos,A.Razor,1.5)}knifeMove(e){this.touchPosX=e.stageX,this.touchPosY=e.stageY;let t=s.rayScanning(A.MainCamera.getChildByName("MainCamera"),A.GameMain3D,new Laya.Vector2(this.touchPosX,this.touchPosY),A.HeadSimulate.name);if(t){let e=A.Headcollision.transform.position.x-(A.HeadSimulate.transform.position.x-t.point.x),a=A.Headcollision.transform.position.y-(A.HeadSimulate.transform.position.y-t.point.y),n=A.Headcollision.transform.position.z-(A.HeadSimulate.transform.position.z-t.point.z);A.knife.transform.position=new Laya.Vector3(e,a,n),A.knife.transform.position.y>=A.HingeUp.transform.position.y?A.knife.transform.lookAt(A.HingeUp.transform.position,new Laya.Vector3(0,1,0)):A.knife.transform.position.y<=A.HingeDown.transform.position.y?A.knife.transform.lookAt(A.HingeDown.transform.position,new Laya.Vector3(0,1,0)):(A.HingeMiddle.transform.position=new Laya.Vector3(A.HingeMiddle.transform.position.x,A.knife.transform.position.y,A.HingeMiddle.transform.position.z),A.knife.transform.lookAt(A.HingeMiddle.transform.position,new Laya.Vector3(0,1,0)))}}onStageMouseUp(e){this.touchPosX=null,this.touchPosY=null,this.moveSwitch=!1}}class H extends t.Scene{lwgOnEnable(){}lwgBtnClick(){n.on(n.Type.largen,this.self.BtnResurgence,this,null,null,this.btnResurgenceUp),n.on(n.Type.largen,this.self.BtnNo,this,null,null,this.btnNoUp)}btnResurgenceUp(){v.ShowReward(()=>{t._gameStart=!0,i.notify(i.EventType.scene3DResurgence),this.self.close()})}btnNoUp(){i.notify(i.EventType.closeOperation),t._openScene(t.SceneName.UIDefeated),this.self.close()}}class X extends e.Admin.Scene{lwgOnAwake(){r.setBtnVinish(),this.audioOnOff(),this.bgmOnOff()}audioOnOff(){r._sound.switch?this.self.AudioOff.visible=!1:this.self.AudioOff.visible=!0}bgmOnOff(){r._bgMusic.switch?this.self.BgmOff.visible=!1:this.self.BgmOff.visible=!0}lwgBtnClick(){n.on(n.Type.largen,this.self.BtnAudio,this,null,null,this.btnAudioUp,null),n.on(n.Type.largen,this.self.BtnBgm,this,null,null,this.btnBgmUp,null),n.on(n.Type.largen,this.self.BtnClose,this,null,null,this.btnCloseUp,null)}btnAudioUp(){r._sound.switch?r._sound.switch=!1:r._sound.switch=!0,this.audioOnOff()}btnBgmUp(){r._bgMusic.switch?r._bgMusic.switch=!1:r._bgMusic.switch=!0,this.bgmOnOff()}btnCloseUp(){this.self.close()}lwgOnDisable(){r.setBtnAppear()}}class V{constructor(){this.GRV=null,this.isRecordVideoing=!1,this.isVideoRecord=!1,this.videoRecordTimer=0,this.isHasVideoRecord=!1}static Init(){V.grv=new TJ.Platform.AppRt.DevKit.TT.GameRecorderVideo}static startAutoRecord(){TJ.API.AppInfo.Channel()==TJ.Define.Channel.AppRt.ZJTD_AppRt&&(null==V.grv&&V.Init(),V.recording||(V.autoRecording=!0,console.log("******************开始录屏"),V._start(),V.lastRecordTime=Date.now()))}static stopAutoRecord(){if(TJ.API.AppInfo.Channel()==TJ.Define.Channel.AppRt.ZJTD_AppRt)return V.autoRecording?(V.autoRecording=!1,V._end(!1),Date.now()-V.lastRecordTime>6e3||(!(Date.now()-V.lastRecordTime<3e3)||(console.log("小于3秒"),!1))):(console.log("RecordManager.autoRecording",V.autoRecording),!1)}static startRecord(){TJ.API.AppInfo.Channel()==TJ.Define.Channel.AppRt.ZJTD_AppRt&&(V.autoRecording&&this.stopAutoRecord(),V.recording=!0,V._start(),V.lastRecordTime=Date.now())}static stopRecord(){if(TJ.API.AppInfo.Channel()==TJ.Define.Channel.AppRt.ZJTD_AppRt)return console.log("time:"+(Date.now()-V.lastRecordTime)),!(Date.now()-V.lastRecordTime<=3e3)&&(V.recording=!1,V._end(!0),!0)}static _start(){TJ.API.AppInfo.Channel()==TJ.Define.Channel.AppRt.ZJTD_AppRt&&(console.log("******************180s  ？？？？？"),V.grv.Start(180))}static _end(e){TJ.API.AppInfo.Channel()==TJ.Define.Channel.AppRt.ZJTD_AppRt&&(console.log("******************180结束 ？？？？？"),V.grv.Stop(e))}static _share(e,t,a=null,n=null){if(TJ.API.AppInfo.Channel()==TJ.Define.Channel.AppRt.ZJTD_AppRt)if(console.log("******************吊起分享 ？？？？？",V.grv,V.grv.videoPath),V.grv.videoPath){let a=new TJ.Platform.AppRt.Extern.TT.ShareAppMessageParam;a.extra.videoTopics=["解救小王子","番茄小游戏","抖音小游戏"],a.channel="video",a.success=(()=>{c.createHint_Middle(c.HintContent["分享成功!"]),t()}),a.fail=(()=>{"noAward"===e?c.createHint_Middle(c.HintContent["分享成功后才能获取奖励！"]):c.createHint_Middle(c.HintContent["分享失败！"]),n()}),V.grv.Share(a)}else c.createHint_Middle(c.HintContent["暂无视频，玩一局游戏之后分享！"])}}V.recording=!1,V.autoRecording=!1;class F extends e.Admin.Scene{lwgOnEnable(){let e;this.endPhoto();let t="UI/Share/Photo/"+(e=C._gameLevel.value>10?C._gameLevel.value%10+1:C._gameLevel.value)+".png";this.self.SmallPhoto.skin=t}lwgOpenAni(){return this.aniTime=100,this.aniDelayde=100,this.self.SmallFram.x-=500,this.self.Logo.y-=500,this.self.BtnShare.alpha=0,h.rotate_Scale(this.self.BigFrame,45,0,0,600,1,1,4.5*this.aniTime,1*this.aniDelayde,()=>{h.move_Simple_01(this.self.SmallFram,this.self.SmallFram.x,this.self.SmallFram.y,this.self.SmallFram.x+=500,this.self.SmallFram.y,2*this.aniTime,Laya.Ease.cubicOut,this.aniDelayde),h.move_Simple_01(this.self.Logo,this.self.Logo.x,this.self.Logo.y,this.self.Logo.x,this.self.Logo.y+=500,2*this.aniTime,Laya.Ease.cubicOut,2*this.aniDelayde),h.bombs_Appear(this.self.BtnShare,0,1,1.2,0,2*this.aniTime,1*this.aniTime,4*this.aniDelayde);let e=Math.floor(100*Math.random()+900);Laya.timer.frameLoop(1,this,()=>{Number(this.self.HotNum.text)<e&&(this.self.HotNum.text=Number(this.self.HotNum.text)+6)}),Laya.timer.once(7*this.aniDelayde,this,()=>{this.self.Icon_hand.skin="UI/Share/tubiao_1-2.png"}),h.rotate_Scale(this.self.Icon_hand,-10,2,2,0,1,1,4*this.aniTime,7*this.aniDelayde)}),this.self.BtnNoShare.alpha=0,h.fadeOut(this.self.BtnNoShare,0,1,this.aniTime,20*this.aniDelayde),o.createExplosion_Rotate(this.self.SceneContent,40,this.self.SceneContent.width/2,this.self.SceneContent.height/2-100,o.SkinStyle.star,20,15),5*this.aniTime}endPhoto(){this.EndCamera=A.MainCamera.clone(),A.GameMain3D.addChild(this.EndCamera),this.EndCamera.transform.position=A.PhotoCameraMark.transform.position,this.EndCamera.transform.localRotationEuler=A.PhotoCameraMark.transform.localRotationEuler;let e=this.EndCamera.getChildAt(0);e.renderTarget=new Laya.RenderTexture(this.self.BigPhoto.width,this.self.BigPhoto.height),e.renderingOrder=-1,e.clearFlag=Laya.BaseCamera.CLEARFLAG_SKY;var t=new Laya.Texture(e.renderTarget,Laya.Texture.DEF_UV),a=new Laya.Sprite;this.self.BigPhoto.addChild(a),a.graphics.drawTexture(t)}lwgBtnClick(){n.on(n.Type.noEffect,this.self.SmallFram,this,null,null,this.btnShareUp,null),n.on(n.Type.noEffect,this.self.BigFrame,this,null,null,this.btnShareUp,null),n.on(n.Type.largen,this.self.BtnShare,this,null,null,this.btnShareUp,null),n.on(n.Type.largen,this.self.BtnNoShare,this,null,null,this.btnNoShareUp,null)}btnShareUp(){V._share("award",()=>{this.shareFunc()})}btnNoShareUp(){this.shareFunc()}shareFunc(){this.self.close(),t._openScene(t.SceneName.UIVictoryBox)}lwgOnDisable(){this.EndCamera.removeSelf()}}class j extends t.Object{lwgOnEnable(){this.Select=this.self.getChildByName("Select")}lwgBtnClick(){n.on(n.Type.largen,this.self,this,null,null,this.up,null)}up(){i.notify(u.EventType.select,[this.self._dataSource])}}class J extends u.ShopScene{shopOnAwake(){let e,t,n;a.goldAppear(),r.setBtnVinish(),D._stageClick=!1,u.goodsClassArr=[u.allOther,u.allProps,u.allSkin],function(e){e.anquanmao="anquanmao",e.yuanyanjing="yuanyanjing",e.jiemao_01="jiemao_01",e.hamajing="hamajing",e.yanshemao_gangtie="yanshemao_gangtie",e.yanshemao="yanshemao",e.jiemao_02="jiemao_02",e.xiaochoumao="xiaochoumao",e.xingxingyanjing="xingxingyanjing",e.yanshemao_shijie="yanshemao_shijie",e.maomaozi="maomaozi"}(e||(e={})),function(e){e.yingguangbang="yingguangbang",e.lifadao="lifadao",e.jiandao="jiandao",e.dianjupian="dianjupian",e.dianju="dianju"}(t||(t={})),function(e){e.xiangsudao="xiangsudao",e.tixudao="tixudao",e.ruwu="ruwu",e.lifadao="lifadao",e.jundao="jundao",e.tulongdao="tulongdao"}(n||(n={})),s.objPropertySort(u.allSkin,"arrange"),s.objPropertySort(u.allProps,"arrange"),s.objPropertySort(u.allOther,"arrange"),u._currentSkin.name||(u._currentSkin.name=e.anquanmao),u._currentProp.name||(u._currentProp.name=t.jiandao),u._currentOther.name||(u._currentOther.name=n.tixudao);let i=u.getGoodsProperty(u.GoodsClass.Skin,e.xiaochoumao,u.GoodsProperty.condition);C._gameLevel.value>=i?u.setGoodsProperty(u.GoodsClass.Skin,e.xiaochoumao,u.GoodsProperty.have,!0):u.setGoodsProperty(u.GoodsClass.Skin,e.xiaochoumao,u.GoodsProperty.resCondition,C._gameLevel.value)}shopEventReg(){i.reg(u.EventType.select,this,e=>{e.have?this.sceletDisplay(e,!1):e[u.GoodsProperty.getway]===u.Getway.ads?v.ShowReward(()=>{this.adsAcquisition(e)}):e[u.GoodsProperty.getway]===u.Getway.adsXD?c.createHint_Middle(c.HintContent["请前往皮肤限定界面获取!"]):e[u.GoodsProperty.getway]===u.Getway.ineedwin?c.createHint_Middle(c.HintContent["通过相应的关卡数达到就可以得到了!"]):e[u.GoodsProperty.getway]===u.Getway.gold&&c.createHint_Middle(c.HintContent["点击金币抽奖按钮购买!"])}),u._ShopList.refresh()}shopOnEnable(){}sceletDisplay(e,t){switch(u._ShopTap.selectedIndex){case 2:u._currentSkin.name=e.name,this.self.Dispaly.skin="UI/Shop/Skin/"+e.name+".png";break;case 1:u._currentProp.name=e.name,this.self.Dispaly.skin="UI/Shop/Props/"+e.name+".png";break;case 0:u._currentOther.name=e.name,this.self.Dispaly.skin="UI/Shop/Other/"+e.name+".png"}if(t){let t=e.arrange-1;u._ShopList.scrollTo(t)}}adsAcquisition(e){let t;switch(u._ShopTap.selectedIndex){case 2:t=u.GoodsClass.Skin;break;case 1:t=u.GoodsClass.Props;break;case 0:t=u.GoodsClass.Other}let a=u.getGoodsProperty(t,e.name,u.GoodsProperty.condition),n=u.getGoodsProperty(t,e.name,u.GoodsProperty.resCondition);u.setGoodsProperty(t,e.name,u.GoodsProperty.resCondition,n+1),a<=n+1&&(u.setGoodsProperty(t,e.name,u.GoodsProperty.have,!0),this.sceletDisplay(e,!1)),u._ShopList.refresh()}myTap_Select(e){switch(l.playSound(),e){case 2:u._ShopList.array=u.allSkin,this.self.Dispaly.skin="UI/Shop/Skin/"+u._currentSkin.name+".png";break;case 1:u._ShopList.array=u.allProps,this.self.Dispaly.skin="UI/Shop/Props/"+u._currentProp.name+".png";break;case 0:u._ShopList.array=u.allOther,this.self.Dispaly.skin="UI/Shop/Other/"+u._currentOther.name+".png"}u._ShopList.refresh()}myList_Update(e,t){let a=e.dataSource,n=e.getChildByName("Select");n.visible=!1;let i=e.getChildByName("Pic");switch(u._ShopTap.selectedIndex){case 2:i.skin="UI/Shop/Skin/"+a.name+".png",e.dataSource[u.GoodsProperty.name]==u._currentSkin.name?n.visible=!0:n.visible=!1;break;case 1:i.skin="UI/Shop/Props/"+a.name+".png",e.dataSource[u.GoodsProperty.name]==u._currentProp.name?n.visible=!0:n.visible=!1;break;case 0:i.skin="UI/Shop/Other/"+a.name+".png",e.dataSource[u.GoodsProperty.name]==u._currentOther.name?n.visible=!0:n.visible=!1}let s=e.getChildByName("NoHave");s.visible=!0;let o=e.getChildByName("Board"),l=s.getChildByName("Dec"),r=s.getChildByName("Icon");if(e.dataSource[u.GoodsProperty.have])s.visible=!1,o.skin="UI/Common/kuang1.png";else{switch(e.dataSource[u.GoodsProperty.getway]){case u.Getway.ads:l.text=e.dataSource[u.GoodsProperty.resCondition]+"/"+e.dataSource[u.GoodsProperty.condition],l.x=88,l.fontSize=30,r.visible=!0;break;case u.Getway.adsXD:l.text="限定获取",l.x=s.width/2,l.fontSize=23,r.visible=!1;break;case u.Getway.easterEgg:l.text="彩蛋获取",l.x=s.width/2,l.fontSize=23,r.visible=!1;break;case u.Getway.ineedwin:l.text="过"+e.dataSource[u.GoodsProperty.resCondition]+"/"+e.dataSource[u.GoodsProperty.condition]+"关",l.x=s.width/2,l.fontSize=23,r.visible=!1;break;case u.Getway.gold:l.text="金币抽取",l.x=s.width/2,l.fontSize=23,r.visible=!1;break;default:r.visible=!1}o.skin="UI/Common/kuang2.png"}}lwgBtnClick(){n.on(n.Type.largen,this.self.BtnBuy,this,null,null,this.btnBuyUp),n.on(n.Type.largen,this.self.BtnGetGold,this,null,null,this.btnGetGold),n.on(n.Type.largen,this.self.BtnBack,this,null,null,this.btnBackUp)}btnBuyUp(){let e=[];switch(u._ShopTap.selectedIndex){case 2:e=u.getwayGoldArr(u.GoodsClass.Skin,!1);break;case 1:e=u.getwayGoldArr(u.GoodsClass.Props,!1);break;case 0:e=u.getwayGoldArr(u.GoodsClass.Other,!1)}if(e.length<=0)c.createHint_Middle(c.HintContent["没有可以购买的皮肤了！"]);else{s.objPropertySort(e,u.GoodsProperty.getOder);let t=e[0][u.GoodsProperty.condition];if(a._goldNum<t)c.createHint_Middle(c.HintContent["金币不够了！"]);else{switch(c.createHint_Middle(c.HintContent["恭喜获得新皮肤!"]),u._ShopTap.selectedIndex){case 2:u.setGoodsProperty(u.GoodsClass.Skin,e[0].name,u.GoodsProperty.have,!0);break;case 1:u.setGoodsProperty(u.GoodsClass.Props,e[0].name,u.GoodsProperty.have,!0);break;case 0:u.setGoodsProperty(u.GoodsClass.Other,e[0].name,u.GoodsProperty.have,!0)}this.sceletDisplay(e[0],!0),a.addGold(-t)}u._ShopList.refresh()}}btnGetGold(){v.ShowReward(()=>{a.getGoldAni_Heap(Laya.stage,15,88,69,"UI/GameStart/qian.png",new Laya.Point(Laya.stage.width/2,Laya.stage.height/2),new Laya.Point(a.GoldNode.x-80,a.GoldNode.y),null,()=>{this.advFunc()})})}advFunc(){a.addGold(500)}btnBackUp(){this.self.close()}shopOnDisable(){D._stageClick=!0,r.setBtnAppear()}}class z extends t.Object{lwgBtnClick(){n.on(n.Type.largen,this.self,this,null,null,this.up,null)}up(){i.notify(S.EventType.select,[this.self._dataSource])}}class Y extends k{skinOnAwake(){c.createVoluntarilyDialogue(150,334,c.UseWhere.scene3,0,2e3,this.self);let e=u.getGoodsClassArr(u.GoodsClass.Skin);S._headSkinArr=[],S._eyeSkinArr=[],S._currentEye.name=null,S._currentHead.name=null;for(let t=0;t<e.length;t++){const a=e[t];a[S.SkinProperty.classify]===S.SkinClass.head?S._headSkinArr.push(a):a[S.SkinProperty.classify]===S.SkinClass.eye&&S._eyeSkinArr.push(a)}}skinEventReg(){i.reg(S.EventType.select,this,e=>{if(e[u.GoodsProperty.have])switch(S._SkinTap.selectedIndex){case 0:S._currentEye.name=e[u.GoodsProperty.name],i.notify(E.EventType.changeEyeDecoration);break;case 1:S._currentHead.name=e[u.GoodsProperty.name],i.notify(E.EventType.changeHeadDecoration),A.HairParent&&(A.HairParent.active=!1)}else e[u.GoodsProperty.getway]===u.Getway.ads?v.ShowReward(()=>{this.adsAcquisition(e)}):e[u.GoodsProperty.getway]===u.Getway.adsXD?c.createHint_Middle(c.HintContent["请前往皮肤限定界面获取!"]):e[u.GoodsProperty.getway]===u.Getway.ineedwin?c.createHint_Middle(c.HintContent["通过相应的关卡数达到就可以得到了!"]):e[u.GoodsProperty.getway]===u.Getway.gold&&c.createHint_Middle(c.HintContent["请前往皮肤界面购买！"])}),S._SkinList.refresh()}adsAcquisition(e){let t=u.GoodsClass.Skin,a=u.getGoodsProperty(t,e.name,u.GoodsProperty.condition),n=u.getGoodsProperty(t,e.name,u.GoodsProperty.resCondition);if(u.setGoodsProperty(t,e.name,u.GoodsProperty.resCondition,n+1),a<=n+1)switch(u.setGoodsProperty(t,e.name,u.GoodsProperty.have,!0),S._SkinTap.selectedIndex){case 0:S._currentEye.name=e[u.GoodsProperty.name];break;case 1:S._currentHead.name=e[u.GoodsProperty.name]}S._SkinList.refresh()}skinTap_Select(e){switch(l.playSound(),e){case 0:S._SkinList.array=S._eyeSkinArr;break;case 1:S._SkinList.array=S._headSkinArr}S._SkinList.refresh()}skinList_Update(e,t){let a=e.dataSource,n=e.getChildByName("Select");switch(n.visible=!1,e.getChildByName("Pic").skin="UI/Shop/Skin/"+a.name+".png",S._SkinTap.selectedIndex){case 0:e.dataSource.name==S._currentEye.name?n.visible=!0:n.visible=!1;break;case 1:e.dataSource.name==S._currentHead.name?n.visible=!0:n.visible=!1}let i=e.getChildByName("NoHave");i.visible=!0;let s=e.getChildByName("Board"),o=i.getChildByName("Dec"),l=i.getChildByName("Icon");if(e.dataSource[u.GoodsProperty.have])i.visible=!1,s.skin="UI/Common/kuang1.png";else{switch(e.dataSource[u.GoodsProperty.getway]){case u.Getway.ads:o.text=e.dataSource[u.GoodsProperty.resCondition]+"/"+e.dataSource[u.GoodsProperty.condition],o.x=88,o.fontSize=30,l.visible=!0;break;case u.Getway.adsXD:o.text="限定获取",o.x=i.width/2,o.fontSize=23,l.visible=!1;break;case u.Getway.easterEgg:o.text="彩蛋获取",o.x=i.width/2,o.fontSize=23,l.visible=!1;break;case u.Getway.ineedwin:o.text="过"+e.dataSource[u.GoodsProperty.resCondition]+"/"+e.dataSource[u.GoodsProperty.condition]+"关",o.x=i.width/2,o.fontSize=23,l.visible=!1;break;case u.Getway.gold:o.text="金币抽取",o.x=i.width/2,o.fontSize=23,l.visible=!1;break;default:l.visible=!1}s.skin="UI/Common/kuang2.png"}}skinOnEnable(){S._SkinList.array=S._eyeSkinArr,S._SkinList.refresh(),i.notify(E.EventType.cameraMove,[E.TaskType.movePhotoLocation])}skinBtnClick(){n.on(n.Type.largen,this.self.BtnComplete,this,null,null,this.btnCompleteUp,null)}btnCompleteUp(){t._openScene(t.SceneName.UIShare,null,this.self)}}class q extends t.Scene{lwgOnAwake(){this.randomNoHave()}randomNoHave(){let e,t;u.getwayGoldArr(u.GoodsClass.Other,void 0,!0),u.getwayGoldArr(u.GoodsClass.Props,void 0,!0);for(let a=0;a<D._taskArr.length;a++){const n=D._taskArr[a];n===E.TaskType.HairParent?e=!0:n!==E.TaskType.LeftBeard&&n!==E.TaskType.RightBeard&&n!==E.TaskType.UpLeftBeard&&n!==E.TaskType.UpRightBeard&&n!==E.TaskType.MiddleBeard||(t=!0)}e&&console.log("本关有剃头任务！"),t&&console.log("本关剃胡须任务！"),e&&t?1===Math.floor(2*Math.random())?this.randomProp():this.randomOther():e&&!t?this.randomProp():!e&&t&&this.randomOther()}randomOther(){let e,t=u.getwayGoldArr(u.GoodsClass.Other,void 0,!0);e=t[Math.floor(Math.random()*t.length)],this.self.SkinPic.skin="UI/Shop/Other/"+e.name+".png",this.beforeTryOtherName=u._currentOther.name,u._currentOther.name=e.name}randomProp(){let e,t=u.getwayGoldArr(u.GoodsClass.Props,void 0,!0);e=t[Math.floor(Math.random()*t.length)],this.self.SkinPic.skin="UI/Shop/Props/"+e.name+".png",this.beforeTryPropName=u._currentProp.name,u._currentProp.name=e.name}lwgBtnClick(){n.on(e.Click.Type.largen,this.self.BtnNo,this,null,null,this.btnNoUp,null),n.on(e.Click.Type.largen,this.self.BtnGet,this,null,null,this.btnGetUp,null)}btnGetUp(e){v.ShowReward(()=>{t._openScene(t.SceneName.UIOperation,null,this.self),i.notify(E.EventType.changeOther),i.notify(E.EventType.changeProp)})}btnNoUp(e){this.beforeTryOtherName&&(u._currentOther.name=this.beforeTryOtherName),this.beforeTryPropName&&(u._currentProp.name=this.beforeTryPropName),t._openScene(t.SceneName.UIOperation,null,this.self),i.notify(E.EventType.changeOther),i.notify(E.EventType.changeProp)}lwgOnDisable(){this.beforeTryOtherName&&(u._currentOther.name=this.beforeTryOtherName),this.beforeTryPropName&&(u._currentProp.name=this.beforeTryPropName)}}class W extends f.SkinXDScene{skinXDOnAwake(){a.goldVinish(),r.setBtnVinish()}skinXDOnEnable(){this.progressDisplay()}skinXDAdaptive(){this.self.SceneContent.y=Laya.stage.height/2}progressDisplay(){let e=u.getGoodsProperty(u.GoodsClass.Props,"xiandanren",u.GoodsProperty.resCondition);if(e>0)for(let t=0;t<e;t++){let e="Bar"+(t+1);this.self[e].skin="UI/XDSkin/tiao1.png"}}skinXDBtnClick(){n.on(n.Type.largen,this.self.BtnGet,this,null,null,this.btnGetUp),n.on(n.Type.largen,this.self.BtnBack,this,null,null,this.btnBackUp)}btnGetUp(){v.ShowReward(()=>{this.btnGetFunc()})}btnBackUp(){this.self.close()}btnGetFunc(){1===u.buyGoods(u.GoodsClass.Other,"xiandanren",1)?(this.progressDisplay(),c.createHint_Middle(c.HintContent["限定皮肤已经获得，请前往皮肤界面查看。"]),u._currentOther.name="xiandanren",i.notify(f.EventType.acquisition),h.fadeOut(this.self,1,0,500,500,()=>{this.self.close()})):this.progressDisplay()}skinXDOnDisable(){r.setBtnAppear()}}class K extends e.Admin.Scene{constructor(){super(...arguments),this.easterEgg_AotumanSwitch=!1}lwgNodeDec(){this.LevelDisplay=this.self.LevelDisplay,this.LevelStyle=this.self.LevelStyle}lwgEventReg(){i.reg(f.EventType.acquisition,this,()=>{this.self.BtnXDSkin.visible=!1}),i.regOnce(m.EventType.removeCheckBtn,this,()=>{this.self.BtnCheck.visible=!1}),i.reg(L.EventType.trigger,this,()=>{this.self.BtnAotuman.visible=!0,this.self.EasterEgg_Aotuman.visible=!1})}lwgOnEnable(){S._currentEye.name=null,S._currentHead.name=null,i.notify(E.EventType.changeHeadDecoration),i.notify(E.EventType.changeEyeDecoration),this.levelStyleDisplay(),u.getGoodsProperty(u.GoodsClass.Props,"xiandanren",u.GoodsProperty.have)&&(this.self.BtnXDSkin.visible=!1),L._easterEgg_1.value?this.self.EasterEgg_Aotuman.visible=!1:this.self.BtnAotuman.visible=!1,m.openCheckIn(),c.createVoluntarilyDialogue(150,334,c.UseWhere.scene1,1e3,2e3,this.self)}levelStyleDisplay(){let e=C._gameLevel.value%this.LevelStyle.numChildren;for(let t=0;t<this.LevelStyle.numChildren;t++){const a=this.LevelStyle.getChildAt(t);let n=Number(a.name.substring(a.name.length-1,a.name.length));C._gameLevel.value<5&&(n+=1);let i=a.getChildByName("Num");if(n===e)i.value=C._gameLevel.value.toString();else if(n<e)i.value=(C._gameLevel.value-(e-n)).toString();else if(n>e){i.value=(C._gameLevel.value+(n-e)).toString(),a.getChildByName("Pic").skin="UI/GameStart/jindu_hui.png";let t=a.getChildByName("Color");null!==t&&(t.visible=!1),i.skin="UI/Common/shuzi3.png"}}}lwgBtnClick(){n.on(n.Type.largen,this.self.BtnSkin,this,null,null,()=>{e.Admin._openScene(t.SceneName.UIShop)}),n.on(n.Type.noEffect,this.self.Guide,this,null,null,()=>{t._openScene(e.Admin.SceneName.UISkinTry,null,this.self)}),n.on(n.Type.largen,this.self.BtnTask,this,null,null,()=>{t._openScene(e.Admin.SceneName.UITask)}),n.on(n.Type.largen,this.self.BtnCheck,this,null,null,()=>{e.Admin._openScene(t.SceneName.UICheckIn)}),n.on(n.Type.largen,this.self.BtnAotuman,this,null,null,()=>{e.Admin._openScene(t.SceneName.UIEasterEgg)}),n.on(n.Type.largen,this.self.BtnXDSkin,this,this.btnXDSkinDown,null,this.btnXDSkinUp)}btnXDSkinDown(){this.easterEgg_AotumanSwitch=!0}btnXDSkinUp(){e.Admin._openScene(t.SceneName.UISkinXD)}onStageMouseMove(e){if(this.easterEgg_AotumanSwitch&&!L._easterEgg_1.value){if(this.self.addChild(this.self.Aotuman),this.self.Aotuman.x=e.stageX,this.self.Aotuman.y=e.stageY,new Laya.Point(this.self.EasterEgg_Aotuman.x,this.self.EasterEgg_Aotuman.y).distance(e.stageX,e.stageY)<50){this.aotumanBack();let e=100,a=100,n=this.self.Clamp.x,i=this.self.Clamp.y,s=this.self.RightClamp.rotation,o=this.self.LeftClamp.rotation,l=this.self.PicAotuman.x,r=this.self.PicAotuman.y,c=this.self.PicAotuman.rotation;h.simple_Rotate(this.self.RightClamp,0,-19,.5*e),h.simple_Rotate(this.self.LeftClamp,0,19,.5*e,0,()=>{h.move_Simple(this.self.Clamp,n,i,n,i-200,2*e,4*a),h.drop_KickBack(this.self.PicAotuman,1,this.self.PicAotuman.y,this.self.PicAotuman.y+600,50,8*e,0,()=>{this.self.Clamp.x=n,this.self.Clamp.y=i,this.self.RightClamp.rotation=s,this.self.LeftClamp.rotation=o,this.self.PicAotuman.x=l,this.self.PicAotuman.y=r,this.self.PicAotuman.rotation=c}),h.simple_Rotate(this.self.PicAotuman,0,360,6*e,0,()=>{t._openScene(t.SceneName.UIEasterEgg)})})}}}onStageMouseUp(){this.aotumanBack()}aotumanBack(){this.easterEgg_AotumanSwitch=!1,this.self.BtnXDSkin.addChild(this.self.Aotuman),this.self.Aotuman.x=77,this.self.Aotuman.y=63}lwgOnDisable(){a.GoldNode.visible=!1,r.setBtnVinish()}}class Z{constructor(){this.subPkgInfo=[{name:"sp1",root:"res"},{name:"sp2",root:"3DScene"},{name:"sp3",root:"3DPrefab"},{name:"sp4",root:"UI"},{name:"sp5",root:"Frame"}]}init(e){TJ.API.AppInfo.Channel()==TJ.Define.Channel.AppRt.WX_AppRt&&(this.onCpl=e,this.pkgFlag=0,this.loadPkg_wx())}loadPkg_wx(){if(this.pkgFlag==this.subPkgInfo.length)this.onCpl();else{let e=this.subPkgInfo[this.pkgFlag],t=e.name,a=e.root;Laya.Browser.window.wx.loadSubpackage({name:t,success:e=>{console.log(`load ${t} suc`),Laya.MiniAdpter.subNativeFiles[t]=a,Laya.MiniAdpter.nativefiles.push(a),this.pkgFlag++,console.log("加载次数",this.pkgFlag),this.loadPkg_wx()},fail:e=>{console.error(`load ${t} err: `,e)}})}}}class Q extends Laya.Script{onAwake(){if(console.log("开始分包！"),TJ.API.AppInfo.Channel()==TJ.Define.Channel.AppRt.WX_AppRt){(new Z).init(()=>{t._openScene("UILoding")})}else t._openScene("UILoding")}onEnable(){}onDisable(){}}class $ extends t.Object{lwgBtnClick(){let e=this.self.getChildByName("BtnGet");n.on(n.Type.largen,e,this,null,null,this.btnGetUp)}btnGetUp(){"观看广告获得金币"!==this.self.dataSource[p.TaskProperty.name]?1===this.self.dataSource[p.TaskProperty.get]?i.notify(p.EventType.getAward,[this.self.dataSource]):0===this.self.dataSource[p.TaskProperty.get]?console.log("任务没有完成"):-1===this.self.dataSource[p.TaskProperty.get]&&console.log("或者已经领取过！"):i.notify(p.EventType.adsGetAward_Every,[this.self.dataSource])}}class ee extends e.Task.TaskScene{taskOnAwake(){D._stageClick=!1,r.setBtnVinish()}taskEventReg(){i.reg(p.EventType.getAward,this,e=>{a.getGoldAni_Heap(Laya.stage,15,88,69,"UI/GameStart/qian.png",new Laya.Point(Laya.stage.width/2,Laya.stage.height/2),new Laya.Point(a.GoldNode.x-80,a.GoldNode.y),null,()=>{p.setTaskProperty(p.TaskClass.everyday,e.name,p.TaskProperty.get,-1),a.addGold(e[p.TaskProperty.rewardNum]),p._TaskList.refresh()})}),i.reg(p.EventType.adsGetAward_Every,this,e=>{v.ShowReward(()=>{a.getGoldAni_Heap(Laya.stage,15,88,69,"UI/GameStart/qian.png",new Laya.Point(Laya.stage.width/2,Laya.stage.height/2),new Laya.Point(a.GoldNode.x-80,a.GoldNode.y),null,()=>{a.addGold(p.getTaskProperty(p.TaskClass.everyday,e.name,p.TaskProperty.rewardNum)),p._TaskList.refresh()})})})}taskList_Update(e,t){let a=e.dataSource;e.getChildByName("Name").text=a.name;let n=e.getChildByName("BtnGet");0===a.get?n.skin="UI/Task/jinxing.png":1===a.get?n.skin="UI/Task/linqu.png":-1===a.get&&(n.skin="UI/Task/yilingqu.png");let i=e.getChildByName("ProgressBar");i.width=a.resCondition/a.condition*169;let s=e.getChildByName("ProNum");s.text=a.resCondition+"/"+a.condition,e.getChildByName("AwardNum").text=a.rewardNum,0===t&&(i.width=169,s.text="1/1",n.skin="UI/Task/adslingqu.png")}lwgBtnClick(){n.on(n.Type.largen,this.self.BtnBack,this,null,null,this.btnBackUp)}btnBackUp(){this.self.close()}taskOnDisable(){r.setBtnAppear(),D._stageClick=!0}}class te extends e.Admin.Scene{constructor(){super(),this.addOrSub="add"}lwgNodeDec(){this.GlodNum=this.self.GlodNum}lwgOnEnable(){this.getGoldNum=50,this.getGoldDisPlay(),a.goldAppear(500),r.setBtnAppear(),C._gameLevel.value++,this.self.BtnAdv.visible=!0,this.self.BtnNormal.visible=!1,this.self.Dot.visible=!0,e.Effects.createFireworks(Laya.stage,40,430,200),e.Effects.createFireworks(Laya.stage,40,109,200),e.Effects.createLeftOrRightJet(Laya.stage,"right",40,720,300),e.Effects.createLeftOrRightJet(Laya.stage,"left",40,0,300),i.notify(p.TaskType.victory)}lwgOpenAni(){return this.self.Multiply10.alpha=0,this.self.GlodNum.alpha=0,this.self.BtnAdv.alpha=0,this.self.Select.alpha=0,h.move_Simple(this.self.Logo,this.self.Logo.x,this.self.Logo.y-500,this.self.Logo.x,this.self.Logo.y,5*this.aniTime,0*this.aniDelayde,Laya.Ease.cubicOut,()=>{h.scale_Alpha(this.self.Multiply10,0,0,0,1,1,1,3*this.aniTime),h.bombs_Appear(this.self.GlodNum,0,1,1.2,0,2*this.aniTime,1*this.aniTime,3*this.aniDelayde),h.bombs_Appear(this.self.BtnAdv,0,1,1.2,0,2*this.aniTime,1*this.aniTime,5*this.aniDelayde),h.fadeOut(this.self.Select,0,1,2*this.aniTime,7*this.aniDelayde)}),0}getGoldDisPlay(){this.GlodNum.getChildByName("Num").text=(10*this.getGoldNum).toString()}lwgBtnClick(){n.on(n.Type.noEffect,this.self.BtnSelect,this,null,null,this.btnSelectUp,null),n.on(n.Type.largen,this.self.BtnAdv,this,null,null,this.btnAdvUp,null),n.on(n.Type.largen,this.self.BtnNormal,this,null,null,this.btnNormalUp,null)}offClick(){n.off(n.Type.noEffect,this.self.BtnSelect,this,null,null,this.btnSelectUp,null),n.off(n.Type.largen,this.self.BtnAdv,this,null,null,this.btnAdvUp,null),n.off(n.Type.largen,this.self.BtnNormal,this,null,null,this.btnNormalUp,null)}btnSelectUp(){if(this.self.Dot.visible){this.self.Dot.visible=!1,this.self.BtnAdv.visible=!1,this.self.BtnNormal.visible=!0,this.addOrSub="sub";let e=this.self.Multiply10;h.scale_Alpha(e,e.alpha,e.scaleX,e.scaleY,0,0,0,100);let t=this.GlodNum.getChildByName("Num");Laya.timer.loop(30,this,()=>{"sub"==this.addOrSub&&(Number(t.text)<this.getGoldNum?(t.text=this.getGoldNum.toString(),this.addOrSub=null):t.text=(Number(t.text)-30).toString())})}else{this.self.Dot.visible=!0,this.self.BtnAdv.visible=!0,this.self.BtnNormal.visible=!1,this.addOrSub="add";let e=this.self.Multiply10;h.scale_Alpha(e,e.alpha,e.scaleX,e.scaleY,1,1,1,100);let t=this.GlodNum.getChildByName("Num");Laya.timer.loop(30,this,()=>{"add"==this.addOrSub&&(Number(t.text)>10*this.getGoldNum?(t.text=(10*this.getGoldNum).toString(),this.addOrSub=null):t.text=(Number(t.text)+30).toString())})}}btnNormalUp(){this.offClick(),a.getGoldAni_Heap(Laya.stage,15,88,69,"UI/GameStart/qian.png",new Laya.Point(Laya.stage.width/2,Laya.stage.height/2),new Laya.Point(a.GoldNode.x-80,a.GoldNode.y),null,()=>{this.advFunc()})}btnAdvUp(){v.ShowReward(()=>{a.getGoldAni_Heap(Laya.stage,15,88,69,"UI/GameStart/qian.png",new Laya.Point(Laya.stage.width/2,Laya.stage.height/2),new Laya.Point(a.GoldNode.x-80,a.GoldNode.y),null,()=>{this.advFunc()})})}advFunc(){this.self.Dot.visible?a.addGold(10*this.getGoldNum):a.addGold(this.getGoldNum),i.notify(i.EventType.scene3DRefresh),t._openScene(t.SceneName.UIStart,null,this.self)}lwgOnDisable(){r.setBtnVinish()}}class ae extends t.Object{constructor(){super()}lwgBtnClick(){n.on(n.Type.noEffect,this.self,this,null,null,this.up,null)}btnoff(){n.off(n.Type.noEffect,this.self,this,null,null,this.up,null)}up(e){if(!this.self._dataSource[y.BoxProperty.openState])if(y._defaultOpenNum>0){let e=this.self.getChildByName("Pic_Box");this.self._dataSource[y.BoxProperty.ads]||(e.skin="UI/VictoryBox/baoxian3.png"),this.btnoff(),h.shookHead_Simple(e,10,100,0,e=>{i.notify(y.EventType.openBox,[this.self._dataSource]),this.lwgBtnClick()})}else c.createHint_Middle(c.HintContent["观看广告可以获得三次开宝箱次数！"])}lwgDisable(){}}class ne extends y.VictoryBoxScene{constructor(){super()}victoryBoxOnAwake(){if(this.self.BtnAgain.visible=!1,this.self.BtnNo.visible=!1,y._openVictoryBoxNum>1){let e=s.randomNumOfArray([0,1,2,3,4,5,6,7,8],3);for(let t=0;t<e.length;t++){e[t];y.setBoxProperty("box"+e[t],y.BoxProperty.ads,!0)}}}victoryBoxEventReg(){i.reg(y.EventType.openBox,this,e=>{console.log(e,y._defaultOpenNum),y._defaultOpenNum>0?e[y.BoxProperty.ads]?v.ShowReward(()=>{this.getRewardFunc(e)}):this.getRewardFunc(e):c.createHint_Middle(c.HintContent["观看广告可以获得三次开宝箱次数！"])})}getRewardFunc(e){y._alreadyOpenNum++;let t=!1;if(9===y._alreadyOpenNum&&!L.getProperty(L.Classify.EasterEgg_01,L.Name.assembly_4,L.Property.complete)){L.doDetection(L.Classify.EasterEgg_01,L.Name.assembly_4,1),y._BoxList.getCell(e.arrange-1).getChildByName("Automan").visible=!0,t=!0}y._defaultOpenNum--,y._selectBox=e[y.BoxProperty.name];let n=e.arrange%3;0==n&&(n=3);let s=Math.floor(e.arrange/3+.5),l=y._BoxList.x+y._BoxList.width/3*n-45,r=y._BoxList.y+y._BoxList.height/3*s+92;o.createExplosion_Rotate(this.self,25,l,r,"star",10,15),y.setBoxProperty(e[y.BoxProperty.name],y.BoxProperty.openState,!0),t||Laya.timer.frameOnce(20,this,t=>{a.getGoldAni_Heap(Laya.stage,15,88,69,"UI/GameStart/qian.png",new Laya.Point(Laya.stage.width/2,Laya.stage.height/2),new Laya.Point(a.GoldNode.x-80,a.GoldNode.y),null,()=>{a.addGold(y.getBoxProperty(e.name,y.BoxProperty.rewardNum))})}),i.notify(p.EventType.victoryBox)}boxList_Update(e,t){let a=e.dataSource,n=e.getChildByName("Select");y._selectBox===a[y.BoxProperty.name]?n.visible=!0:n.visible=!1;let i=e.getChildByName("Num"),s=e.getChildByName("Pic_Gold"),o=e.getChildByName("Pic_Box"),l=e.getChildByName("BordPic");a[y.BoxProperty.openState]?(o.visible=!1,s.visible=!0,i.visible=!0,i.text=a[y.BoxProperty.rewardNum],l.skin="UI/Common/kuang1.png"):(a[y.BoxProperty.ads]?o.skin="UI/VictoryBox/baoxian_adv.png":o.skin="UI/VictoryBox/baoxian2.png",o.visible=!0,s.visible=!1,i.visible=!1,l.skin="UI/Common/kuang2.png")}victoryBoxBtnClick(){n.on("largen",this.self.BtnNo,this,null,null,this.btnNoUp,null),n.on("largen",this.self.BtnAgain,this,null,null,this.btnAgainUp,null)}btnOffClick(){n.off("largen",this.self.BtnNo,this,null,null,this.btnNoUp,null),n.off("largen",this.self.BtnAgain,this,null,null,this.btnAgainUp,null)}btnNoUp(t){e.Admin._openScene(e.Admin.SceneName.UIVictory,null,null,null),this.self.close()}btnAgainUp(e){v.TAPoint(_.BtnClick,"ADrewardbt_box"),y._alreadyOpenNum<9&&y._adsMaxOpenNum>0?v.ShowReward(()=>{c.createHint_Middle(c.HintContent["增加三次开启宝箱次数！"]),y._defaultOpenNum+=3,y._adsMaxOpenNum-=3}):c.createHint_Middle(c.HintContent["没有宝箱领可以领了！"])}victoryOnUpdate(){y._defaultOpenNum>0?(this.self.BtnAgain.visible=!1,this.self.BtnNo.visible=!1):(this.self.BtnAgain.visible=!0,this.self.BtnNo.visible=!0)}}var ie,se=Laya.ClassUtils.regClass;!function(e){!function(e){class t extends Laya.Scene{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("test/TestScene")}}e.TestSceneUI=t,se("ui.test.TestSceneUI",t)}(e.test||(e.test={}))}(ie||(ie={}));class oe extends ie.test.TestSceneUI{constructor(){super(),this.newScene=Laya.stage.addChild(new Laya.Scene3D);var e=this.newScene.addChild(new Laya.Camera(0,.1,100));e.transform.translate(new Laya.Vector3(0,6,9.5)),e.transform.rotate(new Laya.Vector3(-15,0,0),!0,!1);var t=new Laya.DirectionLight;this.newScene.addChild(t),t.color=new Laya.Vector3(.6,.6,.6);var a=t.transform.worldMatrix;a.setForward(new Laya.Vector3(-1,-1,-1)),t.transform.worldMatrix=a;var n=this.newScene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createPlane(10,10,10,10))),i=new Laya.BlinnPhongMaterial;Laya.Texture2D.load("res/grass.png",Laya.Handler.create(this,function(e){i.albedoTexture=e}));var s=i.tilingOffset;s.setValue(5,5,0,0),i.tilingOffset=s,n.meshRenderer.material=i;var o=n.addComponent(Laya.PhysicsCollider),l=new Laya.BoxColliderShape(10,0,10);o.colliderShape=l,o.friction=2,o.restitution=.3,this.mat1=new Laya.BlinnPhongMaterial,Laya.Texture2D.load("res/wood.jpg",Laya.Handler.create(this,function(e){this.mat1.albedoTexture=e,Laya.timer.once(100,this,function(){this.addBox()})}))}addBox(){var e=this.newScene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(.75,.5,.5)));e.meshRenderer.material=this.mat1;var t=e.transform,a=t.position;a.setValue(0,10,0),t.position=a;var n=e.addComponent(Laya.Rigidbody3D),i=new Laya.BoxColliderShape(.75,.5,.5);n.colliderShape=i,n.mass=10}}class le{constructor(){}static init(){var e=Laya.ClassUtils.regClass;e("script/Game/UICheckIn.ts",T),e("script/Game/UIDefeated.ts",b),e("script/Game/UIEasterEgg.ts",B),e("script/Game/UILoding.ts",G),e("script/Game/UIOperation.ts",M),e("script/Game/UIResurgence.ts",H),e("script/Game/UISet.ts",X),e("script/Game/UIShare.ts",F),e("script/Game/UIShop_Goods.ts",j),e("script/Game/UIShop.ts",J),e("script/Game/UISKin_Goods.ts",z),e("script/Game/UISkin.ts",Y),e("script/Game/UISkinTry.ts",q),e("script/Game/UISkinXD.ts",W),e("script/Game/UIStart.ts",K),e("script/Game/UISubpackages.ts",Q),e("script/Game/UITask_GetAward.ts",$),e("script/Game/UITask.ts",ee),e("script/Game/UIVictory.ts",te),e("script/Game/UIVictoryBox_Cell.ts",ae),e("script/Game/UIVictoryBox.ts",ne),e("script/GameUI.ts",oe)}}le.width=720,le.height=1280,le.scaleMode="fixedwidth",le.screenMode="vertical",le.alignV="top",le.alignH="left",le.startScene="Scene/UISubpackages.scene",le.sceneRoot="",le.debug=!1,le.stat=!1,le.physicsDebug=!1,le.exportSceneToJson=!0,le.init();new class{constructor(){window.Laya3D?Laya3D.init(le.width,le.height):Laya.init(le.width,le.height,Laya.WebGL),Laya.Physics&&Laya.Physics.enable(),Laya.DebugPanel&&Laya.DebugPanel.enable(),Laya.stage.scaleMode=le.scaleMode,Laya.stage.screenMode=le.screenMode,Laya.stage.alignV=le.alignV,Laya.stage.alignH=le.alignH,Laya.URL.exportSceneToJson=le.exportSceneToJson,(le.debug||"true"==Laya.Utils.getQueryString("debug"))&&Laya.enableDebugPanel(),le.physicsDebug&&Laya.PhysicsDebugDraw&&Laya.PhysicsDebugDraw.enable(),le.stat&&Laya.Stat.show(),Laya.alertGlobalError=!0,Laya.ResourceVersion.enable("version.json",Laya.Handler.create(this,this.onVersionLoaded),Laya.ResourceVersion.FILENAME_VERSION)}onVersionLoaded(){Laya.AtlasInfoManager.enable("fileconfig.json",Laya.Handler.create(this,this.onConfigLoaded))}onConfigLoaded(){le.startScene&&Laya.Scene.open(le.startScene)}}}();