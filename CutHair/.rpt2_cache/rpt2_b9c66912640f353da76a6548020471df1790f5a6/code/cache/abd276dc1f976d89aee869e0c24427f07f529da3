{
  "code": "import { lwg } from \"../Lwg_Template/lwg\";\r\nimport GameMain3D_Razor from \"./GameMain3D_Razor\";\r\nimport GameMain3D_Moustache from \"./GameMain3D_Moustache\";\r\nimport GameMain3D_Floor from \"./GameMain3D_Floor\";\r\nimport GameMain3D_knife from \"./GameMain3D_knife\";\r\nexport default class GameMain3D extends lwg.Admin.Scene3D {\r\n    constructor() {\r\n        super();\r\n        this.Razor = new Laya.MeshSprite3D();\r\n        this.razorFPos = new Laya.Vector3();\r\n        this.knife = new Laya.MeshSprite3D();\r\n        this.knifeFPos = new Laya.Vector3();\r\n        this.Head = new Laya.MeshSprite3D();\r\n        this.headFPos = new Laya.Vector3();\r\n        this.HairParent = new Laya.MeshSprite3D();\r\n        this.RightBeard = new Laya.MeshSprite3D();\r\n        this.LeftBeard = new Laya.MeshSprite3D();\r\n        this.LevelTem = new Laya.MeshSprite3D();\r\n        this.Level = new Laya.MeshSprite3D();\r\n        this.LevelFpos = new Laya.Vector3();\r\n        this.Floor = new Laya.MeshSprite3D();\r\n        this.Capsule = new Laya.MeshSprite3D();\r\n        this.Landmark_Left = new Laya.MeshSprite3D();\r\n        this.Landmark_Right = new Laya.MeshSprite3D();\r\n        this.Landmark_Side = new Laya.MeshSprite3D();\r\n        this.Landmark_Top = new Laya.MeshSprite3D();\r\n    }\r\n    selfNode() {\r\n        this.LevelTem = this.self.getChildByName('Level_001');\r\n        this.LevelFpos.x = this.LevelTem.transform.position.x;\r\n        this.LevelFpos.y = this.LevelTem.transform.position.y;\r\n        this.LevelFpos.z = this.LevelTem.transform.position.z;\r\n        this.Level = this.LevelTem.clone();\r\n        this.self.addChild(this.Level);\r\n        this.LevelTem.removeSelf();\r\n        this.Landmark_Left = this.Level.getChildByName('Landmark_Left');\r\n        this.Landmark_Right = this.Level.getChildByName('Landmark_Right');\r\n        this.Landmark_Side = this.Level.getChildByName('Landmark_Side');\r\n        this.Landmark_Top = this.Level.getChildByName('Landmark_Top');\r\n        this.Razor = this.Level.getChildByName('Razor');\r\n        this.razorFPos.x = this.Razor.transform.localPositionX;\r\n        this.razorFPos.y = this.Razor.transform.localPositionY;\r\n        this.razorFPos.z = this.Razor.transform.localPositionZ;\r\n        this.razorFEulerY = this.Razor.transform.localRotationEulerY;\r\n        this.Floor = this.Level.getChildByName('Floor');\r\n        this.Head = this.Level.getChildByName('Head');\r\n        this.HairParent = this.Head.getChildByName('HairParent');\r\n        this.LeftBeard = this.Head.getChildByName('LeftBeard');\r\n        this.RightBeard = this.Head.getChildByName('RightBeard');\r\n        this.knife = this.Level.getChildByName('knife');\r\n        this.Capsule = this.Head.getChildByName('Capsule');\r\n        let capsuleRig3D = this.Capsule.getComponent(Laya.Rigidbody3D);\r\n        capsuleRig3D.restitution = 0;\r\n    }\r\n    lwgOnEnable() {\r\n        this.Floor.addComponent(GameMain3D_Floor);\r\n        this.Razor.addComponent(GameMain3D_Razor);\r\n        this.knife.addComponent(GameMain3D_knife);\r\n    }\r\n    refresh3DScene() {\r\n        this.Razor.transform.localPositionX = this.razorFPos.x;\r\n        this.Razor.transform.localPositionY = this.razorFPos.y;\r\n        this.Razor.transform.localPositionZ = this.razorFPos.z;\r\n        this.Razor.transform.localRotationEulerY = this.razorFEulerY;\r\n        this.Head.transform.localPositionX = this.headFPos.x;\r\n        this.Head.transform.localPositionY = this.headFPos.y;\r\n        this.Head.transform.localPositionZ = this.headFPos.z;\r\n        this.Head.transform.localRotationEulerY = this.headFEulerY;\r\n        this.MainCamera.transform.localPositionX = this.mainCameraFpos.x;\r\n        this.MainCamera.transform.localPositionY = this.mainCameraFpos.y;\r\n        this.MainCamera.transform.localPositionZ = this.mainCameraFpos.z;\r\n        if (this.Level.parent) {\r\n            this.Level.removeSelf();\r\n            this.Level = this.LevelTem.clone();\r\n            this.self.addChild(this.Level);\r\n            let MustacheParent = this.Level.getChildByName('MustacheParent');\r\n            for (let index = 0; index < MustacheParent.numChildren; index++) {\r\n                const element = MustacheParent.getChildAt(index);\r\n                let script = element.getComponent(GameMain3D_Moustache);\r\n                if (script === null) {\r\n                    element.addComponent(GameMain3D_Moustache);\r\n                }\r\n            }\r\n        }\r\n        lwg.Global._gameStart = true;\r\n    }\r\n    lwgOnUpDate() {\r\n    }\r\n}\r\n",
  "references": [
    "D:/Game/project/CutHair/Project/CutHair/src/script/Lwg_Template/lwg.ts",
    "D:/Game/project/CutHair/Project/CutHair/src/script/Game/GameMain3D_Razor.ts",
    "D:/Game/project/CutHair/Project/CutHair/src/script/Game/GameMain3D_Moustache.ts",
    "D:/Game/project/CutHair/Project/CutHair/src/script/Game/GameMain3D_Floor.ts",
    "D:/Game/project/CutHair/Project/CutHair/src/script/Lwg_Template/Global.ts",
    "D:/Game/project/CutHair/Project/CutHair/src/script/Game/GameMain3D_knife.ts"
  ]
}
