{
  "code": "import { lwg } from \"../Lwg_Template/lwg\";\r\nexport default class GameMain3D_Razor extends lwg.Admin.Object3D {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.retreatSpeed = 0.15;\r\n        this.retreatTime = 0;\r\n        this.retreatVec = new Laya.Vector3();\r\n    }\r\n    lwgInit() {\r\n        this.RazorState = lwg.Enum.RazorState.move;\r\n    }\r\n    onTriggerEnter(other) {\r\n        let otherOwner = other.owner;\r\n        let parent = other.owner.parent;\r\n        let ownerName = otherOwner.name.substring(0, 3);\r\n        switch (ownerName) {\r\n            case lwg.Enum.ColliderOwner.mustache:\r\n                otherOwner['GameMain3D_Moustache'].moveSwitch = true;\r\n                break;\r\n            case lwg.Enum.ColliderOwner.nose:\r\n                this.RazorState = lwg.Enum.RazorState.touchNose;\r\n                this.retreatVec = otherOwner.transform.position;\r\n                let ani = otherOwner.getComponent(Laya.Animator);\r\n                ani.play('stand');\r\n                ani.play('BeMet');\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n    shaverTouchNose() {\r\n        let reNormalizP = lwg.Tools.reverseVector('3d', this.self.transform.position, this.retreatVec, true);\r\n        this.self.transform.localPositionX += reNormalizP.x * this.retreatSpeed;\r\n        this.self.transform.localPositionZ += reNormalizP.z * this.retreatSpeed;\r\n    }\r\n    lwgOnUpdate() {\r\n        if (this.RazorState === lwg.Enum.RazorState.touchNose) {\r\n            this.retreatTime++;\r\n            if (this.retreatTime > 8) {\r\n                this.RazorState = lwg.Enum.RazorState.move;\r\n                this.retreatTime = 0;\r\n            }\r\n            else {\r\n                this.shaverTouchNose();\r\n            }\r\n        }\r\n    }\r\n}\r\n",
  "references": [
    "D:/Game/project/CutHair/Project/CutHair/src/script/Lwg_Template/lwg.ts"
  ]
}
